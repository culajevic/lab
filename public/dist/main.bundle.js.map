{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/scripts/class.js","webpack:///./src/scripts/functions.js","webpack:///./src/scripts/price.js","webpack:///./src/scripts/script.js","webpack:///./src/scss/style.scss"],"names":["module","exports","grandParent","parentElement","parentClass","titleElement","titleClass","titleText","inputClass","inputPlaceholder","inputName","inputPattern","newParentElement","document","createElement","className","elementTitle","elementTitleText","createTextNode","appendChild","removeField","removeFieldIcon","newInputField","placeholder","name","pattern","querySelector","focus","elementName","elementToBeRemoved","querySelectorAll","forEach","item","addEventListener","e","parentNode","remove","removeElement","element1","element2","preventDefault","itemToRemove","target","innerText","index","indexOf","splice","children","length","deleteDocument","selector","message","url","redirect","error","confirm","id","getAttribute","fetch","method","then","response","json","data","console","log","window","location","href","alert","searchAnalysis","searchString","resultDiv","flag","selectedAnalysis","analysisJson","localStorage","getItem","JSON","parse","selectedAnalysisNameArr","result","innerHTML","analysis","analysisName","i","tr","tdName","analysisLink","setAttribute","slug","previewIcon","preview","abbr","abbrName","y","tdGroupName","groupName","groupId","hospital","hospitalIcon","availableHC","minmaxPrice","priceSpan","priceRange","minPriceArr","cenovnik","cena","maxPriceArr","addAnalysisBtnTd","addAnalysisBtn","addAnalysisBtnText","disabled","_id","iconPath","type","classList","contains","push","sort","selectedAnalysisJson","stringify","setItem","analysisAdded","groupImage","removeSpan","removeImg","analysisPosition","getElementById","insertBefore","childNodes","analysisBasket","selectedAnalysisBasket","indexOfAnalysisName","removedValue","enableButton","textContent","add","renderAnalysisResult","itemsArray","analysisPositionArr","findIndex","createPrice","searchLab","queryResultUl","labName","value","liItem","link","labSelected","srcElement","attributes","getAnalyisisNameDiv","analysisParentDiv","priceParent","keyCode","analysisFound","hiddenId","analysisRow","analysisNewDiv","analysisPrice","deletePrice","price","deleteButton","buttonText","require","NewElement","PriceList","helper","$","ready","tooltip","placement","delay","show","hide","boundary","tooltipClass","hover","find","toggleClass","scroll","height","scrollTop","addClass","removeClass","pathname","onload","mainSearch","filter","setTimeout","searchstring","analysisRadio","match","scrollspy","offset","urlParams","URLSearchParams","search","myValue","get","myFilter","innerSearch","logo","searchStr","radioFilter","checked","selectedAnalysisIdArr","a","b","localStorageItems","nameIndex","items","on","imageSrc","attr","mondayOpens","mondayCloses","workingWeek","deleteWH","open24h","searchPlaces","city","minicipality","postalCode","municipality","placeName","place","resultList","addNewPhone","newPhone","addElement","summernote","styleTags","title","tag","toolbar","addNewAbbr","addNewAlt","addNewConnectedAnalysis","addNewConnectedDiseases","newAbbr","newAlt","resultGroup","groupNamesList","itemGroup","connectedAnalysis","relatedAnalysisParent","parentUl","analysisSelected","liitems","analysisNameList","includes","connectedAnalysisID","connAnalysisName","connectedAnalysisLi","connectedAnalysisInnerText","connectedDiseases","getDiseasesDiv","diseasesParent","diseaseParentUl","diseaseSelected","diseaseItems","diseaseName","addDisease","diseaseID","diseaseLi","diseaseInnerText","searchReference","referenceList","referenceParentDiv","referenceUl","selectedReferences","referenceItems","referenceName","referenceTitle","addReference","referenceID","removeButton","referenceLi","searchEditor","editorsList","editorParentDiv","editorDiv","selectedEditor","editors","picture","editorName","firstName","lastName","addEditor","editorID","inputEditorName","inputEditorImage","editorh4","editorImage","editorDisplayName","removeEditor","firstChild","newPriceList"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/scripts/script.js\");\n","/*\nadd description for this class\n*/\nmodule.exports = class NewElement {\n  constructor(grandParent, parentElement, parentClass=['form-group'],titleElement,titleClass=['form-text'], titleText, inputClass, inputPlaceholder,inputName, inputPattern) {\n    this.grandParent = grandParent,\n    this.parentElement = parentElement,\n    this.parentClass= parentClass,\n    this.titleElement = titleElement,\n    this.titleClass= titleClass,\n    this.titleText = titleText,\n    this.inputClass = inputClass,\n    this.inputPlaceholder = inputPlaceholder,\n    this.inputName = inputName,\n    this.inputPattern = inputPattern\n  }\n  addElement() {\n    // add parent div\n    let newParentElement = document.createElement(this.parentElement)\n    newParentElement.className += this.parentClass\n\n    // create title and append it to parent div\n    let elementTitle = document.createElement(this.titleElement)\n    elementTitle.className += this.titleClass\n    let elementTitleText = document.createTextNode(this.titleText)\n    elementTitle.appendChild(elementTitleText)\n\n    // create remove icon\n    let removeField = document.createElement('span')\n    removeField.className += 'float-right removeField'\n    let removeFieldIcon = document.createTextNode('-')\n    removeField.appendChild(removeFieldIcon)\n\n    // adding remove icon to title element\n    newParentElement.appendChild(removeField)\n    // append title tag to parent div\n    newParentElement.appendChild(elementTitle)\n\n    // create input field and add class, placeholder and name values\n    let newInputField = document.createElement('input')\n    newInputField.className += this.inputClass\n    newInputField.placeholder = this.inputPlaceholder\n    newInputField.name= this.inputName\n    newInputField.pattern = this.inputPattern\n\n    // add input field to parent\n    newParentElement.appendChild(newInputField)\n\n    // append everything to grand parent\n    let grandParent = document.querySelector(this.grandParent)\n    grandParent.appendChild(newParentElement)\n    // grandParent.insertBefore(newParentElement, grandParent.childNodes[this.insertBefore])\n\n    // set focus to last created element\n    newInputField.focus()\n  }\n  removeElement(elementName) {\n    let elementToBeRemoved = document.querySelectorAll(elementName)\n    elementToBeRemoved.forEach((item) => {\n      item.addEventListener('click', (e) => {\n        item.parentNode.remove()\n      })\n    })\n  }\n}\n","exports.removeElement = (element1,element2) => {\n  element1.addEventListener('click', (e) => {\n    e.preventDefault()\n    let itemToRemove = e.target.innerText\n    let index = element2.indexOf(itemToRemove)\n    element2.splice(index,1)\n    if(element1.children.length === 1) {\n      e.target.remove()\n      element1.remove()\n    } else {\n      e.target.remove() }\n  })\n}\n\nexports.deleteDocument = (selector,message,url,redirect,error) => {\n  let deleteDocument = document.querySelectorAll(selector)\n    deleteDocument.forEach((item) => {\n      item.addEventListener('click', (e) => {\n        if(confirm(message))  {\n          let id = e.target.getAttribute('data-id')\n          url += id\n          fetch (url, {\n            method: 'delete'\n          }).then((response) => {\n            response.json()\n            .then((data) => {\n              console.log(data)\n            })\n            window.location.href=redirect\n          }).catch((e) => {\n            alert(error)\n          })\n        } else {\n          window.location.href=redirect\n        }\n      })\n    })\n}\n\nexports.searchAnalysis = (searchString,resultDiv, flag) => {\n\nlet selectedAnalysis = []\n\n  const analysisJson = localStorage.getItem('selectedAnalysis')\n    if (analysisJson !== null) {\n      selectedAnalysis = JSON.parse(analysisJson)\n\n    }\n\n  if(typeof(selectedAnalysisNameArr) === 'undefined') {\n    selectedAnalysisNameArr = []\n   } else {\n     console.log(selectedAnalysisNameArr)\n   }\n// console.log('length after refresh is '+selectedAnalysisNameArr.length)\n\n  fetch('/analysis/prices/'+searchString).then((data) => {\n    data.json().then((result) => {\n      // console.log(result)\n      resultDiv.innerHTML = ''\n      let analysis = result.analysisName\n      for(i=0; i<analysis.length; i++) {\n        //creating table with result\n        let tr = document.createElement('tr')\n\n        //td analysis name and preview icon\n        let tdName = document.createElement('td')\n        let analysisName = document.createTextNode(analysis[i].analysisName)\n        let analysisLink = document.createElement('a')\n            analysisLink.setAttribute('href', 'analysis/'+analysis[i].slug)\n            analysisLink.className = 'nolink'\n            analysisLink.appendChild(analysisName)\n\n        let previewIcon = document.createElement('img')\n          previewIcon.setAttribute('src', '/images/detail.svg')\n          previewIcon.setAttribute('title', analysis[i].preview)\n          previewIcon.className = \"tooltipImg mr-2\"\n          previewIcon.setAttribute('data-toggle', 'tooltip')\n        tdName.appendChild(previewIcon)\n        tdName.appendChild(analysisLink)\n        tr.appendChild(tdName)\n\n        //abbreviation\n        let abbr = document.createElement('td')\n        let abbrName\n\n        for(y=0; y<analysis[i].abbr.length; y++) {\n          if(y != (analysis[i].abbr.length)-1 ) {\n           abbrName = document.createTextNode(analysis[i].abbr[y]+', ')\n          } else {\n           abbrName = document.createTextNode(analysis[i].abbr[y])\n          }\n          abbr.appendChild(abbrName)\n          tr.appendChild(abbr)\n        }\n\n        //groupName\n        let tdGroupName = document.createElement('td')\n          let groupName = document.createTextNode(analysis[i].groupId.name)\n          tdGroupName.appendChild(groupName)\n          tr.appendChild(tdGroupName)\n\n        //display hospital icon if analysis is available\n        //ako nije dostupna stavi hospital-alt-off.svg\n\n        let hospital = document.createElement('td')\n        let hospitalIcon = document.createElement('img')\n          if(analysis[i].availableHC) {\n            hospitalIcon.setAttribute('src', '/images/hospital-alt.svg')\n            hospitalIcon.setAttribute('data-toggle', 'tooltip')\n            hospitalIcon.setAttribute('title', 'Analizu je moguće uraditi u domu zdravlja o trošku zdravstvenog osiguranja.')\n          } else {\n            hospitalIcon.setAttribute('src', '/images/hospital-alt_off.svg')\n            hospitalIcon.setAttribute('data-toggle', 'tooltip')\n            hospitalIcon.setAttribute('title', 'Ovu analizu nije moguće uraditi u domu zdravlja o trošku zdravstvenog osiguranja.')\n          }\n        hospital.appendChild(hospitalIcon)\n        tr.appendChild(hospital)\n\n        //display min and max price\n        let minmaxPrice = document.createElement('td')\n        let priceSpan = document.createElement('span')\n          priceSpan.className = 'font-weight-bold'\n          let priceRange = document.createTextNode(`${result.minPriceArr[i][0].cenovnik[0].cena} - ${result.maxPriceArr[i][0].cenovnik[0].cena}`)\n          priceSpan.appendChild(priceRange)\n          minmaxPrice.appendChild(priceSpan)\n          tr.appendChild(minmaxPrice)\n\n        //create btn for adding analysis to basket\n        let addAnalysisBtnTd = document.createElement('td')\n        let addAnalysisBtn = document.createElement('button')\n        let addAnalysisBtnText\n        if(selectedAnalysisNameArr.indexOf(analysis[i].analysisName) === -1) {\n          addAnalysisBtn.className = 'btn btn-outline-success float-right btn-block text-uppercase addAnalysis'\n          addAnalysisBtnText = document.createTextNode('dodaj')\n        } else {\n          addAnalysisBtnText = document.createTextNode(\"\\u2714\")\n          addAnalysisBtn.className = 'btn btn-outline-success float-right btn-block text-uppercase deleteAnalysis'\n          addAnalysisBtn.disabled = true\n        }\n          addAnalysisBtn.setAttribute('data-analysisId', analysis[i]._id)\n          addAnalysisBtn.setAttribute('data-analysisName', analysis[i].analysisName)\n          addAnalysisBtn.setAttribute('data-groupImg', analysis[i].groupId.iconPath)\n\n        addAnalysisBtn.appendChild(addAnalysisBtnText)\n        addAnalysisBtnTd.appendChild(addAnalysisBtn)\n        tr.appendChild(addAnalysisBtnTd)\n        resultDiv.appendChild(tr)\n      }// for end\n    })// data json end\n  })//fetch end\n\nif(flag == true) {\n    //add analysis to basket\n    resultDiv.addEventListener('click', (e) => {\n      if(e.target.type == 'submit' && e.target.classList.contains('addAnalysis')) {\n\n        //create array of analysis IDs\n        // selectedAnalysisIdArr.push(e.target.getAttribute('data-analysisid'))\n        //create an array with analysis names\n        selectedAnalysisNameArr.push(e.target.getAttribute('data-analysisName'))\n        selectedAnalysisNameArr.sort()\n\n        const selectedAnalysisJson = JSON.stringify(selectedAnalysisNameArr)\n        localStorage.setItem('selectedAnalysis', selectedAnalysisJson)\n\n        //changing style for buttons if analysis is added to basket\n        if(selectedAnalysisNameArr.indexOf(e.target.getAttribute('data-analysisName')) !== -1) {\n        // console.log(selectedAnalysisNameArr.indexOf(e.target.getAttribute('data-analysisName')))\n          e.target.innerHTML = '&#10004;'\n          e.target.className = 'btn btn-outline-success float-right btn-block text-uppercase deleteAnalysis'\n          e.target.disabled = true\n        }\n\n        // creating li element for shopping basket\n        let analysisAdded = document.createElement('li')\n          analysisAdded.className='list-group-item list-group-item-action'\n        //creating group image\n        let groupImage = document.createElement('img')\n          groupImage.classList = 'labGroupIconSelectedAnalysis'\n          groupImage.setAttribute('src', '/images/'+e.target.getAttribute('data-groupImg'))\n        //creating text with analysis name\n        let analysisName = document.createTextNode(e.target.getAttribute('data-analysisName'))\n        //creating span element for remove icon\n        let removeSpan = document.createElement('span')\n          removeSpan.className = 'float-right remove'\n        let removeImg = document.createElement('img')\n          removeImg.setAttribute('src','/images/closeBtn.svg')\n          removeImg.className = 'remove-analysis-from-basket'\n          removeSpan.appendChild(removeImg)\n        //putting everythig together\n          analysisAdded.appendChild(groupImage)\n          analysisAdded.appendChild(analysisName)\n          analysisAdded.appendChild(removeSpan)\n\n        //taking analysisname position in array\n          let analysisPosition = selectedAnalysisNameArr.indexOf(e.target.getAttribute('data-analysisName'))\n\n          //sort analysis in shoping basket\n          let selectedAnalysis = document.getElementById('selectedAnalysis')\n          selectedAnalysis.insertBefore(analysisAdded, selectedAnalysis.childNodes[analysisPosition])\n\n        //display shopping basket if at least one analysis is choosen\n        document.querySelector('.card').classList.remove('d-none')\n      }//if ends\n    })// result div end\n\n    // remove analysis from basket\n    let analysisBasket = document.getElementById('selectedAnalysis')\n      analysisBasket.addEventListener('click', (e) => {\n\n        if(e.target.classList.contains('remove-analysis-from-basket')) {\n          let selectedAnalysisBasket = e.target.parentNode.parentNode\n\n          //take removed id so it is removed from array as well\n          let indexOfAnalysisName = selectedAnalysisNameArr.indexOf(selectedAnalysisBasket.innerText)\n          // console.log(indexOfAnalysisName)\n          let removedValue = selectedAnalysisNameArr.splice(indexOfAnalysisName,1)\n\n          //remove analysis li from basket\n          selectedAnalysisBasket.remove()\n\n          //enable button for the analysis removed\n          let enableButton = document.querySelectorAll('#resultTable tr>td>button')\n            enableButton.forEach((item) => {\n              if(item.getAttribute('data-analysisName') == removedValue[0]) {\n                item.disabled = false\n                item.textContent = 'dodaj'\n                item.classList.remove('deleteAnalysis')\n                item.classList.add('addAnalysis')\n              }\n            })\n          // if last analysis is removed from the basket remove basket\n          if(selectedAnalysisNameArr.length == 0) {\n            document.querySelector('.card').classList.add('d-none')\n          }\n        }\n      })// analysisBasket.addEventListener end\n  }\n}\n\nexports.renderAnalysisResult = (analysis, result, selectedAnalysisNameArr, resultDiv, itemsArray) => {\n\n  let analysisPositionArr = itemsArray.findIndex((item) => {\n    return item.name === analysis[i].analysisName\n  })\n\n  let tr = document.createElement('tr')\n  //td analysis name and preview icon\n  let tdName = document.createElement('td')\n  let analysisName = document.createTextNode(analysis[i].analysisName)\n  let analysisLink = document.createElement('a')\n      analysisLink.setAttribute('href', 'analysis/'+analysis[i].slug)\n      analysisLink.className = 'nolink'\n      analysisLink.appendChild(analysisName)\n\n  let previewIcon = document.createElement('img')\n    previewIcon.setAttribute('src', '/images/detail.svg')\n    previewIcon.setAttribute('title', analysis[i].preview)\n    previewIcon.className = \"tooltipImg mr-2\"\n    previewIcon.setAttribute('data-toggle', 'tooltip')\n  tdName.appendChild(previewIcon)\n  tdName.appendChild(analysisLink)\n  tr.appendChild(tdName)\n\n  //abbreviation\n  let abbr = document.createElement('td')\n  let abbrName\n\n  for(y=0; y<analysis[i].abbr.length; y++) {\n    if(y != (analysis[i].abbr.length)-1 ) {\n     abbrName = document.createTextNode(analysis[i].abbr[y]+', ')\n    } else {\n     abbrName = document.createTextNode(analysis[i].abbr[y])\n    }\n    abbr.appendChild(abbrName)\n    tr.appendChild(abbr)\n  }\n\n  //groupName\n  let tdGroupName = document.createElement('td')\n    let groupName = document.createTextNode(analysis[i].groupId.name)\n    tdGroupName.appendChild(groupName)\n    tr.appendChild(tdGroupName)\n\n  //display hospital icon if analysis is available\n  //ako nije dostupna stavi hospital-alt-off.svg\n\n  let hospital = document.createElement('td')\n  let hospitalIcon = document.createElement('img')\n    if(analysis[i].availableHC) {\n      hospitalIcon.setAttribute('src', '/images/hospital-alt.svg')\n      hospitalIcon.setAttribute('data-toggle', 'tooltip')\n      hospitalIcon.setAttribute('title', 'Analizu je moguće uraditi u domu zdravlja o trošku zdravstvenog osiguranja.')\n    } else {\n      hospitalIcon.setAttribute('src', '/images/hospital-alt_off.svg')\n      hospitalIcon.setAttribute('data-toggle', 'tooltip')\n      hospitalIcon.setAttribute('title', 'Ovu analizu nije moguće uraditi u domu zdravlja o trošku zdravstvenog osiguranja.')\n    }\n  hospital.appendChild(hospitalIcon)\n  tr.appendChild(hospital)\n\n  //display min and max price\n  let minmaxPrice = document.createElement('td')\n  let priceSpan = document.createElement('span')\n    priceSpan.className = 'font-weight-bold'\n    let priceRange = document.createTextNode(`${result.minPriceArr[i][0].cenovnik[0].cena} - ${result.maxPriceArr[i][0].cenovnik[0].cena}`)\n    priceSpan.appendChild(priceRange)\n    minmaxPrice.appendChild(priceSpan)\n    tr.appendChild(minmaxPrice)\n\n  //create btn for adding analysis to basket\n  let addAnalysisBtnTd = document.createElement('td')\n  let addAnalysisBtn = document.createElement('button')\n  let addAnalysisBtnText\n  if(analysisPositionArr === -1) {\n    addAnalysisBtn.className = 'btn btn-outline-success float-right btn-block text-uppercase addAnalysis'\n    addAnalysisBtnText = document.createTextNode('dodaj')\n  } else {\n    addAnalysisBtnText = document.createTextNode(\"\\u2714\")\n    addAnalysisBtn.className = 'btn btn-outline-success float-right btn-block text-uppercase deleteAnalysis'\n    addAnalysisBtn.disabled = true\n  }\n    addAnalysisBtn.setAttribute('data-analysisId', analysis[i]._id)\n    addAnalysisBtn.setAttribute('data-analysisName', analysis[i].analysisName)\n    addAnalysisBtn.setAttribute('data-groupImg', analysis[i].groupId.iconPath)\n\n  addAnalysisBtn.appendChild(addAnalysisBtnText)\n  addAnalysisBtnTd.appendChild(addAnalysisBtn)\n  tr.appendChild(addAnalysisBtnTd)\n  resultDiv.appendChild(tr)\n}\n","exports.createPrice = () => {\n\n  let searchLab = document.getElementById('searchLabName')\n  let queryResultUl = document.getElementById('labFound')\n  let labName = document.getElementById('labName')\n\n  searchLab.addEventListener('input', (e) => {\n    if(searchLab.value.length>2) {\n      fetch('/lab/'+e.target.value).then((data) => {\n        data.json().then((result) => {\n          for(i=0; i<result.length; i++) {\n            let liItem = document.createElement('li')\n            liItem.className +=\"list-group-item\"\n            let link = document.createElement('a')\n            link.href=result[i]._id\n            liItem.appendChild(link)\n            let labName = document.createTextNode(result[i].labName)\n            link.appendChild(labName)\n            queryResultUl.appendChild(liItem)\n          }// for end\n        })// data.json end\n      })// fetch end\n    } // if end\n    else {\n      console.log('please enter at lease 2 chars')\n      queryResultUl.innerHTML = ''\n    }\n  })\n\n  let labSelected = document.getElementById('labFound')\n    labSelected.addEventListener('click', (e) => {\n      e.preventDefault()\n      searchLab.value = e.srcElement.attributes.href.textContent\n      labName.value=e.target.innerText\n      queryResultUl.innerHTML = ''\n    })\n\n  //search for analysis\n\n  let searchAnalysis = document.getElementById('searchAnalysis')\n  let getAnalyisisNameDiv = document.getElementById('analysisFound')\n  let analysisParentDiv = document.getElementById('analysisDiv')\n  let priceParent = document.getElementById('priceList')\n\n  // set focus on searchanalysis field when up arrow is pressed\n  document.addEventListener('keydown', (e) => {\n    if(e.keyCode === 38) {\n      searchAnalysis.focus()\n    }\n  })\n\n  searchAnalysis.addEventListener('input', (e) => {\n    if (searchAnalysis.value.length > 2) {\n    fetch('/analysis/prices/'+e.target.value).then((data) => {\n      data.json().then((result) => {\n        let analysis = result.analysisName\n        getAnalyisisNameDiv.innerHTML = ''\n        for(i=0; i<analysis.length; i++) {\n          let liItem = document.createElement('li')\n          liItem.className +=\"list-group-item\"\n          let link = document.createElement('a')\n          link.href=analysis[i]._id\n          liItem.appendChild(link)\n          let analysisName = document.createTextNode(analysis[i].analysisName)\n          link.appendChild(analysisName)\n          getAnalyisisNameDiv.appendChild(liItem)\n        } // for end\n      })// datajson end\n    })// fetch end\n  } else {\n      getAnalyisisNameDiv.innerHTML = ''\n    }\n  })// searchAnalysis event listener end\n\n  // creating input fields\n  let analysisFound = document.getElementById('analysisFound')\n\n    analysisFound.addEventListener('click', (e) => {\n      e.preventDefault()\n\n      let hiddenId = document.createElement('input')\n      hiddenId.type = 'hidden'\n      hiddenId.name = 'cenovnik[analiza][]'\n      hiddenId.setAttribute('value', e.srcElement.attributes.href.textContent)\n\n      let analysisRow = document.createElement('div')\n        analysisRow.className = 'form-row'\n\n      let analysisNewDiv = document.createElement('div')\n        analysisNewDiv.className = 'form-group mt-2 col-6'\n\n      let analysisName = document.createElement('input')\n        analysisName.type = 'text'\n        analysisName.className = 'form-control'\n        analysisName.name='cenovnik[imeanalize][]'\n        analysisName.setAttribute('value', e.target.innerText)\n        analysisName.setAttribute('readonly', true)\n\n      let analysisPrice = document.createElement('div')\n        analysisPrice.className = 'form-group mt-2 col-5'\n\n      let deletePrice = document.createElement('div')\n        deletePrice.className = 'form-group mt-2 col-1'\n\n      let price = document.createElement('input')\n        price.type = 'text'\n        price.setAttribute('placeholder', 'upisi cenu')\n        price.name = 'cenovnik[cena][]'\n        price.className = 'form-control'\n\n      let deleteButton = document.createElement('button')\n        deleteButton.className='btn btn-danger float-right deletePrice'\n        deleteButton.type='button'\n        deleteButton.name='button'\n          let buttonText = document.createTextNode('delete')\n          deleteButton.appendChild(buttonText)\n        deletePrice.appendChild(deleteButton)\n\n      analysisNewDiv.appendChild(analysisName)\n      analysisPrice.appendChild(price)\n      analysisNewDiv.appendChild(hiddenId)\n\n      analysisRow.appendChild(analysisNewDiv)\n      analysisRow.appendChild(analysisPrice)\n      analysisRow.appendChild(deletePrice)\n\n      // analysisParentDiv.appendChild(analysisRow)\n      priceParent.appendChild(analysisRow)\n\n      price.focus()\n      searchAnalysis.value=''\n      getAnalyisisNameDiv.innerHTML = ''\n\n    })// analysisfound end\n\n    // delete price from pricelist\n      let deletePrice = document.getElementById('priceList')\n      // console.log(deletePrice)\n        deletePrice.addEventListener('click', (e) => {\n          // console.log(deletePrice)\n          if(e.target.classList.contains('deletePrice')) {\n            e.preventDefault()\n            e.target.parentNode.parentNode.remove()\n          }\n        })\n}\n","require('../scss/style.scss')\n// let summernote = require('./summernote-ext-addclass')\nlet NewElement = require('./class')\nlet PriceList = require('./price')\nlet helper = require('./functions')\n// let $ = require('jquery')\n\n//tooltip initialization\n$(document).ready(function(){\n  $('body').tooltip({\n    selector:'[data-toggle=\"tooltip\"]',\n    placement:\"top\",\n    delay: {show: 100, hide: 100},\n    boundary: 'window',\n    tooltipClass: \"tooltip\"\n  })\n});\n\n// changing analysis number color on hover\n$('.click-more').hover(function(){\n  $(this).find(\"span\").toggleClass(\"broj-analiza-hover\");\n});\n\n// sticky navigation\n$(window).scroll(function(){\n  var height = $(window).scrollTop();\n    if(height > 460) {\n      $(\"#header > nav\").addClass('fixed-top-background fixed-top');\n    }\n    else {\n      $(\"#header > nav\").removeClass('fixed-top-background fixed-top');\n    }\n});\n\n// sticky navigation for side menu\n$(window).scroll(function(){\n  var height = $(window).scrollTop();\n    if(height > 120) {\n      $(\".odabraneAnalize\").addClass('fixed-right')\n    }\n    else {\n      $(\".odabraneAnalize\").removeClass('fixed-right')\n    }\n})\n\n\nlet location = window.location.pathname\n\nwindow.onload = () => {\n\nif(location === '/') {\n\n//put cursor in search field on main page\n  let mainSearch = document.getElementById('searchAnalysis')\n    mainSearch.focus()\n\n//set filter by default to analiza\nlet filter = 'analiza'\n\n/* by default filter is set to analiza, after 500ms user is redirected\nto results page */\nif(filter === 'analiza') {\n  mainSearch.addEventListener('input', (e) => {\n    if(mainSearch.value.length>1) {\n      setTimeout(function() {\n      let searchstring = e.target.value\n      window.location.href = 'results/?name='+searchstring+'&filter='+filter\n    },500)\n    }\n  })\n} else {\n    console.log('searching for labs')\n  }\n\n// if filter is changed\nlet analysisRadio = document.querySelectorAll('input[name=searchFilter]')\n    analysisRadio.forEach((item) => {\n      item.addEventListener('click', (e) => {\n        filter = e.target.value\n          mainSearch.addEventListener('input', (e) => {\n            setTimeout(function() {\n              let searchstring = e.target.value\n              window.location.href = 'results/?name='+searchstring+'&filter='+filter\n            },500)\n          })\n      })\n    })\n}// if location === '/'\n\nif (location.match('results')) {\n\n//scrollspy initialization\n  $('body').scrollspy({\n    target: '#sideMenu',\n    offset: 30\n  })\n\n  //taking values from url\n  const urlParams = new URLSearchParams(window.location.search);\n  let myValue = urlParams.get('name')\n  let myFilter = urlParams.get('filter')\n  let innerSearch = document.getElementById('searchResultPage')\n  innerSearch.focus()\n  //check if local storage already exists, if not create an empty array\n  let itemsArray = localStorage.getItem('items') ? JSON.parse(localStorage.getItem('items')) : []\n    localStorage.setItem('items', JSON.stringify(itemsArray))\n\n//if storage already has some items print them\n  const data = JSON.parse(localStorage.getItem('items'))\n  data.forEach(item => {\n  let analysisAdded = document.createElement('li')\n    analysisAdded.className='list-group-item list-group-item-action'\n  //creating group image\n  let groupImage = document.createElement('img')\n    groupImage.classList = 'labGroupIconSelectedAnalysis'\n    groupImage.setAttribute('src', '/images/'+item.logo)\n  //creating text with analysis name\n  let analysisName = document.createTextNode(item.name)\n  //creating span element for remove icon\n  let removeSpan = document.createElement('span')\n    removeSpan.className = 'float-right remove'\n  let removeImg = document.createElement('img')\n    removeImg.setAttribute('src','/images/closeBtn.svg')\n    removeImg.className = 'remove-analysis-from-basket'\n    removeSpan.appendChild(removeImg)\n    analysisAdded.appendChild(groupImage)\n    analysisAdded.appendChild(analysisName)\n    analysisAdded.appendChild(removeSpan)\n    let selectedAnalysis = document.getElementById('selectedAnalysis')\n    // selectedAnalysis.appendChild(analysisAdded)\n    selectedAnalysis.insertBefore(analysisAdded, selectedAnalysis.childNodes[0])\n    document.querySelector('.card').classList.remove('d-none')\n  })\n\n  //set value from url to input field\n  innerSearch.value = myValue\n  let searchStr = myValue\n\n    // display checked filter\n    let radioFilter = document.querySelectorAll('input[name=searchFilter]')\n      radioFilter.forEach((item) => {\n        if(item.value == myFilter) {\n          item.checked=true\n        }\n      })\n\n    // if searching values are comming from index page\n    let resultDiv = document.getElementById('resultTable')\n    // search analysis and display table with results.\n    let selectedAnalysisIdArr = []\n    let selectedAnalysisNameArr = []\n    let selectedAnalysisJson\n\n    if(myFilter == 'analiza') {\n\n      fetch('/analysis/prices/'+searchStr).then((data) => {\n        data.json().then((result) => {\n          console.log(result)\n          resultDiv.innerHTML = ''\n          let analysis = result.analysisName\n          for(i=0; i<analysis.length; i++) {\n            //creating table with result\n            helper.renderAnalysisResult(analysis, result, selectedAnalysisNameArr, resultDiv, itemsArray)\n          }// for end\n        })// data json end\n      })//fetch end\n\n      resultDiv.addEventListener('click', (e) => {\n        if(e.target.type == 'submit' && e.target.classList.contains('addAnalysis')) {\n\n          itemsArray.push({\n            'name':e.target.getAttribute('data-analysisName'),\n            'id':e.target.getAttribute('data-analysisid'),\n            'logo':e.target.getAttribute('data-groupimg')\n           })\n\n          // sorting array\n          itemsArray.sort((a,b) => {\n            if (a.name > b.name) {\n              return 1\n            } else {\n              return -1\n            }\n          })\n          console.log(itemsArray)\n\n          localStorage.setItem('items', JSON.stringify(itemsArray))\n\n          let analysisAdded = document.createElement('li')\n            analysisAdded.className='list-group-item list-group-item-action'\n          //creating group image\n          let groupImage = document.createElement('img')\n            groupImage.classList = 'labGroupIconSelectedAnalysis'\n            groupImage.setAttribute('src', '/images/'+e.target.getAttribute('data-groupImg'))\n          //creating text with analysis name\n          let analysisName = document.createTextNode(e.target.getAttribute('data-analysisName'))\n          //creating span element for remove icon\n          let removeSpan = document.createElement('span')\n            removeSpan.className = 'float-right remove'\n          let removeImg = document.createElement('img')\n            removeImg.setAttribute('src','/images/closeBtn.svg')\n            removeImg.className = 'remove-analysis-from-basket'\n            removeSpan.appendChild(removeImg)\n            analysisAdded.appendChild(groupImage)\n            analysisAdded.appendChild(analysisName)\n            analysisAdded.appendChild(removeSpan)\n\n            let analysisPositionArr = itemsArray.findIndex((item) => {\n              return item.name === e.target.getAttribute('data-analysisName')\n            })\n\n            // if analysis is added disable add button\n            if(analysisPositionArr !== -1) {\n            // console.log(selectedAnalysisNameArr.indexOf(e.target.getAttribute('data-analysisName')))\n              e.target.innerHTML = '&#10004;'\n              e.target.className = 'btn btn-outline-success float-right btn-block text-uppercase deleteAnalysis'\n              e.target.disabled = true\n            }\n\n            //insert analysis to basket\n            let selectedAnalysis = document.getElementById('selectedAnalysis')\n            console.log(selectedAnalysis)\n            selectedAnalysis.insertBefore(analysisAdded, selectedAnalysis.childNodes[analysisPositionArr])\n\n            document.querySelector('.card').classList.remove('d-none')\n        }\n      })// resultdiv end\n\n      //remove analysis from local storage\n      let analysisBasket = document.getElementById('selectedAnalysis')\n        analysisBasket.addEventListener('click', (e) => {\n          if(e.target.classList.contains('remove-analysis-from-basket')) {\n\n            let selectedAnalysisBasket = e.target.parentNode.parentNode\n            let indexOfAnalysisName = selectedAnalysisBasket.innerText\n            let localStorageItems = JSON.parse(localStorage.getItem('items'))\n            let nameIndex = localStorageItems.findIndex((item) => {\n                return item.name === indexOfAnalysisName\n              })\n            localStorageItems.splice(nameIndex,1)\n            items = JSON.stringify(localStorageItems)\n            selectedAnalysisBasket.remove()\n            //remove element from itemsarray\n            let removedValue = itemsArray.splice(nameIndex,1)\n\n            localStorage.setItem('items', items)\n\n            if(itemsArray.length == 0) {\n              document.querySelector('.card').classList.add('d-none')\n            }\n\n            //enable button for the analysis removed\n            let enableButton = document.querySelectorAll('#resultTable tr>td>button')\n              enableButton.forEach((item) => {\n                if(item.getAttribute('data-analysisName') == removedValue[0].name) {\n                  item.disabled = false\n                  item.textContent = 'dodaj'\n                  item.classList.remove('deleteAnalysis')\n                  item.classList.add('addAnalysis')\n                }\n              })\n            // if last analysis is removed from the basket remove basket\n            // if(selectedAnalysisNameArr.length == 0) {\n            //   document.querySelector('.card').classList.add('d-none')\n            // }\n          }\n        })// analysisBasket.addEventListener end\n\n    }// if my filter==analiza\n\n    // else {\n    //   console.log('prva an lab')\n    //     fetch('/lab/'+innerSearch.value).then((data) => {\n    //       data.json().then((result) => {\n    //         console.log(result)\n    //       })\n    //     })\n    //   }\n\n    // if filter value is changed on result searchResultPage\n    // taking filter value\n    let analysisRadio = document.querySelectorAll('input[name=searchFilter]')\n        analysisRadio.forEach((item) => {\n          item.addEventListener('click', (e) => {\n            myFilter = e.target.value\n            innerSearch.value=''\n            innerSearch.focus()\n          })\n        })\n\n    // if search string is changed on result page\n    innerSearch.addEventListener('input', (e) => {\n        let searchstring = innerSearch.value\n        if(myFilter == 'analiza' && searchstring.length>1) {\n          // let flag s= false\n          fetch('/analysis/prices/'+searchstring).then((data) => {\n            data.json().then((result) => {\n              console.log(result)\n              resultDiv.innerHTML = ''\n              let analysis = result.analysisName\n              for(i=0; i<analysis.length; i++) {\n                //creating table with results\n                helper.renderAnalysisResult(analysis,result, selectedAnalysisNameArr, resultDiv, itemsArray)\n              }// for end\n            })// data json end\n          })//fetch end\n        }\n        else if(searchstring.length>2){\n            fetch('/lab/'+searchstring).then((data) => {\n              data.json().then((result) => {\n                console.log(result)\n              })\n            })\n          } else {\n            console.log('unesite vise od 2 karaktera da zapocnete pretragu')\n            resultDiv.innerHTML = 'Unesite nesto'\n          }\n      })\n\n\n$('#resultTable ').on('mouseenter','tr>td>img.tooltipImg', function(){\n  var imageSrc = $(this).attr('src');\n  // if (imageSrc == '/images/detail.svg') {\n    $(this).attr('src','/images/detail_mv.svg');\n  // }\n  // else {\n  //   $(this).attr('src', '/images/detail.svg');\n  // }\n  }).on('mouseleave','tr>td>img.tooltipImg', function(){\n    $(this).attr('src', '/images/detail.svg');\n  })\n}\n\nif (location.match('addLab')) {\n\n// populating working days Tuesday-Friday based on values from Monday\n  let mondayOpens = document.querySelector('#mondayOpens')\n  let mondayCloses = document.querySelector('#mondayCloses')\n\n  let workingWeek = document.querySelectorAll('.__working-hours')\n\n  mondayCloses.addEventListener('blur', (e) => {\n    document.getElementById('saturdayOpens').focus()\n    for(i=0; i<workingWeek.length-4; i++)\n      if(i%2 == 0) {\n        workingWeek[i].value=mondayOpens.value\n      } else {\n        workingWeek[i].value=mondayCloses.value\n      }\n    })\n\n    // delete all working hours on click / set 24h to false\n    let deleteWH = document.querySelector('#deleteWH')\n    deleteWH.addEventListener('click', (e) => {\n      e.preventDefault()\n      for(i=0; i<workingWeek.length; i++) {\n        workingWeek[i].value=''\n      }\n      open24h.checked=false\n    })\n\n    // set working hours for the whole week to 00-24h\n    const open24h = document.querySelector('#open24h')\n      open24h.addEventListener('change', (e) => {\n        e.preventDefault()\n        if(open24h.checked == true) {\n          for(i=0; i<workingWeek.length; i++)\n            if(i%2 == 0) {\n              workingWeek[i].value='00:00'\n            } else {\n              workingWeek[i].value='24:00'\n            }\n        } else {\n          for(i=0; i<workingWeek.length; i++) {\n            workingWeek[i].value=''\n          }\n        }\n      })\n\n  // search id for the place and populate other address related\n  // fields on lab form\n\n  let searchPlaces = document.getElementById('searchPlaces')\n  let resultDiv = document.getElementById('result')\n  let city = document.getElementById('city')\n  let minicipality = document.getElementById('municipality')\n  let postalCode = document.getElementById('postalCode')\n\n  searchPlaces.addEventListener('input', (e) => {\n  if(searchPlaces.value.length>=3) {\n      fetch('/places/'+e.target.value).then((data) => {\n          data.json().then((result) => {\n            resultDiv.innerHTML=''\n            for(i=0; i<result.length; i++) {\n              let liItem = document.createElement('li')\n              liItem.className +=\"list-group-item\"\n              let link = document.createElement('a')\n              link.href=result[i]._id\n              link.setAttribute('data-municipality',result[i].municipality)\n              link.setAttribute('data-postalCode',result[i].postalCode)\n              // link.className += \"\"\n              liItem.appendChild(link)\n              let placeName = document.createTextNode(result[i].place)\n              link.appendChild(placeName)\n              resultDiv.appendChild(liItem)\n            }// for end\n\n            let resultList = document.querySelectorAll('#result li')\n            resultList.forEach((item) => {\n              item.addEventListener('click', (e) => {\n                e.preventDefault()\n                searchPlaces.value = e.srcElement.attributes.href.textContent\n                city.value = e.target.innerText\n                municipality.value=e.srcElement.getAttribute('data-municipality')\n                postalCode.value=e.srcElement.getAttribute('data-postalCode')\n                resultDiv.innerHTML=''\n              })\n            })\n\n          })// data json end\n      })\n    } else {\n      console.log('enter at least 3 letters')\n      resultDiv.innerHTML=''\n      city.value=''\n      municipality.value=''\n      postalCode.value=''\n    }\n  })\n\n  // add new phone field icon\n    let addNewPhone = document.querySelector('#addNewPhone')\n    let newPhone =  new NewElement('#contactData','div','form-group col-sm-4','small','form-text text-muted','new phone', 'form-control', 'e.g. 066/3423234', 'phone[]', '^0\\\\d\\\\d\\\\/\\\\d+')\n      newPhone.removeElement('.removeField')\n\n    // add additional phone input fields\n    addNewPhone.addEventListener('click', (e) => {\n      newPhone.addElement()\n      newPhone.removeElement('.removeField')\n    })\n\n  } // window location = /addLab\n\n\n  if (location.match('addAnalysis')) {\nconsole.log('da')\n    $('#summernote').summernote({\n\n          styleTags: [\n          'p','br',\n          {title: 'orderList', tag: 'ul', className: 'textList', value: 'ul'},\n          {title: 'leadText', tag: 'p', className: 'lead text-center', value:'p'},\n          {title:'reset', tag:'p',className:'', value:'p'}\n\n        ],\n          height: 220,\n          toolbar: [\n              ['view', ['codeview']],\n              ['img', ['picture']],\n              ['style', ['style', 'addclass', 'clear']],\n              ['fontstyle', ['bold', 'italic', 'ul', 'ol', 'link', 'paragraph']],\n              ['fontstyleextra', ['strikethrough', 'underline', 'hr', 'color', 'superscript', 'subscript']],\n          ]\n        });\n\n    let addNewAbbr = document.querySelector('#addNewAbbr')\n    let addNewAlt = document.querySelector('#addNewAlt')\n    let addNewConnectedAnalysis = document.querySelector('#addNewRelatedAnalysis')\n    let addNewConnectedDiseases = document.querySelector('#addNewDiseases')\n\n    let newAbbr = new NewElement('#abbrAltContainer', 'div', 'form-group col-sm-3', 'small', 'form-text text-muted', 'new abbr', 'form-control', 'new abbr', 'abbr[]', '.+')\n      newAbbr.removeElement('.removeField')\n\n      addNewAbbr.addEventListener('click', (e) => {\n        newAbbr.addElement()\n        newAbbr.removeElement('.removeField')\n      })\n\n    let newAlt = new NewElement('#abbrAltContainer', 'div', 'form-group col-sm-3', 'small', 'form-text text-muted', 'alternative name', 'form-control', 'new alt', 'alt[]', '.+')\n      newAlt.removeElement('.removeField')\n\n      addNewAlt.addEventListener('click', (e) => {\n        newAlt.addElement()\n        newAlt.removeElement('.removeField')\n      })\n\n    let groupId = document.getElementById('groupId')\n    let resultGroup = document.getElementById('resultGroup')\n    let groupName = document.getElementById('groupName')\n\n    groupId.addEventListener('input', (e) => {\n      if(groupId.value.length >= 1) {\n        fetch('/groups/'+e.target.value).then((data) => {\n          data.json().then((result) => {\n            resultGroup.innerHTML=''\n            for(i=0; i<result.length; i++) {\n              let liItem = document.createElement('li')\n              liItem.className +=\"list-group-item\"\n              let link = document.createElement('a')\n              link.href=result[i]._id\n              liItem.appendChild(link)\n              let groupName = document.createTextNode(result[i].name)\n              link.appendChild(groupName)\n              resultGroup.appendChild(liItem)\n            } // for end\n\n            let groupNamesList = document.querySelectorAll('#resultGroup li')\n              groupNamesList.forEach((itemGroup) => {\n                itemGroup.addEventListener('click', (e) => {\n                  e.preventDefault()\n                  groupId.value = e.srcElement.attributes.href.textContent\n                  groupName.value = e.target.innerText\n                  resultGroup.innerHTML=''\n                })// click end\n              })// foreach end\n          })// data.json end\n        })// fetch end\n      } else {\n        console.log('enter at least 3 letters')\n          resultGroup.innerHTML=''\n          groupName.value =''\n        }\n    })// groupid addEventListener\n\n// searching for connected analyses\n\n    let connectedAnalysis = document.getElementById('connectedAnalysis')\n    let getAnalyisisNameDiv = document.getElementById('resultConnectedAnalysis')\n    let relatedAnalysisParent = document.getElementById('relatedAnalysis')\n    let parentUl = document.querySelector('.connAnalysisUl')\n    // let parentUl\n\n    if(typeof(parentUl) !== 'undefined' && parentUl !== null) {\n      parentUl = document.querySelector('.connAnalysisUl')\n      // parentUl.setAttribute('id', 'tess')\n    }  else {\n      parentUl = document.createElement('ul')\n        parentUl.className += 'list-inline my-3 connAnalysisUl'\n        parentUl.setAttribute('id', 'tess')\n    }\n\n    let analysisSelected = []\n\n    // push items to array when form is reloaded\n    let liitems = document.querySelectorAll('.connAnalysisUl li')\n      liitems.forEach((item) => {\n        analysisSelected.push(item.innerText)\n      })\n\n    connectedAnalysis.addEventListener('input', (e) => {\n      if (connectedAnalysis.value.length > 2) {\n      fetch('/analysis/'+e.target.value).then((data) => {\n        data.json().then((result) => {\n          console.log(result)\n          getAnalyisisNameDiv.innerHTML = ''\n          for(i=0; i<result.length; i++) {\n            let liItem = document.createElement('li')\n            liItem.className +=\"list-group-item\"\n            let link = document.createElement('a')\n            link.href=result[i]._id\n            liItem.appendChild(link)\n            let analysisName = document.createTextNode(result[i].analysisName)\n            link.appendChild(analysisName)\n            getAnalyisisNameDiv.appendChild(liItem)\n          } // for end\n        })// datajson end\n      })// fetch end\n    } else {\n        getAnalyisisNameDiv.innerHTML = ''\n      }\n    })// connectedAnalysis event listener end\n\n    let analysisNameList = document.getElementById('resultConnectedAnalysis')\n\n        analysisNameList.addEventListener('click', (e) => {\n          e.preventDefault()\n\n          if(!analysisSelected.includes(e.target.innerText)) {\n            analysisSelected.push(e.target.innerText)\n\n            // creating hidden input tag and grab analysis id\n            let connectedAnalysisID = document.createElement('input')\n            connectedAnalysisID.type = 'hidden'\n            connectedAnalysisID.name = 'connectedTo[]'\n            connectedAnalysisID.setAttribute('value', e.srcElement.attributes.href.textContent)\n\n            let connAnalysisName = document.createElement('input')\n            connAnalysisName.type = 'hidden'\n            connAnalysisName.name = 'connectedToName[]'\n            connAnalysisName.setAttribute('value', e.target.innerText)\n\n            let connectedAnalysisLi = document.createElement('li')\n            connectedAnalysisLi.className += 'list-inline-item __connectedAnalysis'\n            let connectedAnalysisInnerText = document.createTextNode(e.target.innerText)\n\n            connectedAnalysisLi.appendChild(connectedAnalysisInnerText)\n            connectedAnalysisLi.appendChild(connectedAnalysisID)\n            connectedAnalysisLi.appendChild(connAnalysisName)\n            parentUl.appendChild(connectedAnalysisLi)\n            relatedAnalysisParent.appendChild(parentUl)\n\n            connectedAnalysis.value=''\n            connectedAnalysis.focus()\n            getAnalyisisNameDiv.innerHTML = ''\n\n          } else {\n            console.log('analiza vec dodata')\n            connectedAnalysis.value=''\n            connectedAnalysis.focus()\n            getAnalyisisNameDiv.innerHTML = '' }\n\n        })// addevent listener end\n\n      // remove connected analyses\n      helper.removeElement(parentUl, analysisSelected)\n\n    // search for connected Diseases and adding them to the DOM\n    let connectedDiseases = document.getElementById('connectedDiseases')\n    let getDiseasesDiv = document.getElementById('resultConnectedDiseases')\n    let diseasesParent = document.getElementById('diseases')\n    let diseaseParentUl = document.querySelector('.connDiseaseUl')\n\n    if(typeof(diseaseParentUl) !== 'undefined' && diseaseParentUl !== null) {\n      diseaseParentUl = document.querySelector('.connDiseaseUl')\n    } else {\n      diseaseParentUl = document.createElement('ul')\n        diseaseParentUl.className += 'list-inline my-3 connDiseaseUl'\n    }\n\n    let diseaseSelected = []\n\n    // push items to array when form is reloaded\n    let diseaseItems = document.querySelectorAll('.connDiseaseUl li')\n      diseaseItems.forEach((item) => {\n        diseaseSelected.push(item.innerText)\n      })\n\n    connectedDiseases.addEventListener('input', (e) => {\n      if(connectedDiseases.value.length > 2) {\n        fetch('/diseases/'+e.target.value).then((data) =>{\n          data.json().then((result) => {\n            getDiseasesDiv.innerHTML = ''\n            for(i=0; i<result.length; i++) {\n              let liItem = document.createElement('li')\n              liItem.className += \"list-group-item\"\n              let link = document.createElement('a')\n              link.href=result[i]._id\n              liItem.appendChild(link)\n              let diseaseName = document.createTextNode(result[i].name)\n              link.appendChild(diseaseName)\n              getDiseasesDiv.appendChild(liItem)\n            } // for end\n          })// data.json end\n        })// fetch end\n      }// if end\n        else {\n          getDiseasesDiv.innerHTML = ''\n        }\n  })// connectedDisease addEventListener\n\n    // adding diseases to the page\n      let addDisease = document.getElementById('resultConnectedDiseases')\n\n      addDisease.addEventListener('click', (e) => {\n          e.preventDefault()\n\n        if(!diseaseSelected.includes(e.target.innerText)) {\n            diseaseSelected.push(e.target.innerText)\n            // creating hidden input tag and grab analysis id\n            let diseaseID = document.createElement('input')\n            diseaseID.type = 'hidden'\n            diseaseID.name = 'diseasesId[]'\n            diseaseID.setAttribute('value', e.srcElement.attributes.href.textContent)\n\n            let diseaseName = document.createElement('input')\n            diseaseName.type = 'hidden'\n            diseaseName.name = 'diseaseName[]'\n            diseaseName.setAttribute('value', e.target.innerText)\n\n            let diseaseLi = document.createElement('li')\n            diseaseLi.className += 'list-inline-item __connectedAnalysis'\n            let diseaseInnerText = document.createTextNode(e.target.innerText)\n            diseaseLi.appendChild(diseaseInnerText)\n            diseaseLi.appendChild(diseaseID)\n            diseaseLi.appendChild(diseaseName)\n            diseaseParentUl.appendChild(diseaseLi)\n            diseasesParent.appendChild(diseaseParentUl)\n            // clear the input\n            connectedDiseases.value = ''\n            connectedDiseases.focus()\n            getDiseasesDiv.innerHTML = ''\n          }\n          else {\n            console.log('analiza vec dodata')\n            connectedDiseases.value = ''\n            connectedDiseases.focus()\n            getDiseasesDiv.innerHTML = ''\n          }\n      })// addDisease end addEventListener\n\n        // remove diseases\n        helper.removeElement(diseaseParentUl,diseaseSelected)\n\n\n    let searchReference = document.getElementById('searchReference')\n    let referenceList = document.getElementById('referenceList')\n    let referenceParentDiv = document.getElementById('references')\n    let referenceUl = document.querySelector('.referenceUl')\n\n    if(typeof(referenceUl) !== 'undefined' && referenceUl !== null) {\n      referenceUl = document.querySelector('.referenceUl')\n    } else {\n      referenceUl = document.createElement('ol')\n        referenceUl.className += 'referenceUl'\n    }\n\n    let selectedReferences = []\n    // push items to array when form is reloaded\n    let referenceItems = document.querySelectorAll('.referenceUl li')\n      referenceItems.forEach((item) => {\n        selectedReferences.push(item.innerText)\n      })\n\n    searchReference.addEventListener('input', (e) => {\n      if(searchReference.value.length > 2) {\n        fetch('/reference/'+e.target.value).then((data) => {\n          data.json().then((result) => {\n            referenceList.innerHTML = ''\n            for(i=0; i<result.length; i++) {\n              let liItem = document.createElement('li')\n              liItem.className += \"list-group-item \"\n              let link = document.createElement('a')\n              link.href=result[i]._id\n              liItem.appendChild(link)\n              let referenceName = document.createTextNode(result[i].referenceTitle)\n              link.appendChild(referenceName)\n              referenceList.appendChild(liItem)\n            }// for end\n          })// data json end\n        })// fetch end\n      } else {\n        referenceList.innerHTML = ''\n      }\n    })\n\n  let addReference = document.getElementById('referenceList')\n\n  addReference.addEventListener('click', (e) => {\n        e.preventDefault()\n\n    if(!selectedReferences.includes(e.target.innerText)) {\n        selectedReferences.push(e.target.innerText)\n        // creating hidden input tag and grab analysis id\n        let referenceID = document.createElement('input')\n        referenceID.type = 'hidden'\n        referenceID.name = 'references[]'\n        referenceID.setAttribute('value', e.srcElement.attributes.href.textContent)\n\n        let referenceName = document.createElement('input')\n        referenceName.type = 'hidden'\n        referenceName.name = 'referenceName[]'\n        referenceName.setAttribute('value', e.target.innerText)\n\n        // TODO: move remove functionality to functon\n        let removeButton = document.createElement('small')\n        removeButton.className += 'ml-2 float-right text-danger removeConnectedAnalysis'\n        // let removeText = document.createTextNode('x')\n        // removeButton.appendChild(removeText)\n        // remove section end\n        let referenceLi = document.createElement('li')\n        referenceLi.className = 'my-2'\n        // referenceP.className += 'd-block'\n        let referenceTitle = document.createTextNode(e.target.innerText)\n        referenceLi.appendChild(referenceTitle)\n        // referenceLi.appendChild(removeButton)\n        referenceLi.appendChild(referenceID)\n        referenceLi.appendChild(referenceName)\n        referenceUl.appendChild(referenceLi)\n        referenceParentDiv.appendChild(referenceUl)\n\n        searchReference.value=''\n        searchReference.focus()\n        referenceList.innerHTML = ''\n    } else {\n      searchReference.value=''\n      searchReference.focus()\n      referenceList.innerHTML = ''\n    }\n  })// addreference addEventListener\n\n  // remove reference after it is added to the page\n  helper.removeElement(referenceUl,selectedReferences)\n\n  let searchEditor = document.getElementById('searchEditors')\n  let editorsList = document.getElementById('editorsList')\n  let editorParentDiv = document.getElementById('editor')\n  let editorDiv\n\n  if(typeof(editorDiv) !== 'undefined' && editorDiv !== null) {\n    // select editor div after page refresh\n    editorDiv = document.querySelector('.__editorsList')\n  } else {\n    editorDiv = document.createElement('div')\n    editorDiv.className += '__editorsList'\n  }\n\n  let selectedEditor = []\n  //take editor id after page refresh\n  let editors = document.querySelector('.__editorsList input[name=writtenBy]')\n    if(editors) {\n      selectedEditor.push(editors.value)\n      // console.log(selectedEditor)\n    }\n\n    searchEditor.addEventListener('input', (e) => {\n      // if(document.querySelector('.__editorsList')) {\n      //   alert('vec je dodat urednik za ovu analizu, ukoliko hoces da ga izmenis prvo ukloni postojeceg')\n      // } else {\n        if(searchEditor.value.length > 2) {\n          fetch('/editors/'+e.target.value).then((data) => {\n            data.json().then((result) => {\n              editorsList.innerHTML = ''\n              for(i=0; i<result.length; i++) {\n                let liItem = document.createElement('li')\n                liItem.className += \"list-group-item \"\n                let link = document.createElement('a')\n                link.href=result[i]._id\n                link.setAttribute('data-editorImage',result[i].picture)\n                liItem.appendChild(link)\n                let editorName = document.createTextNode(`${result[i].firstName} ${result[i].lastName}`)\n                link.appendChild(editorName)\n                editorsList.appendChild(liItem)\n              }// for end\n            })// data json end\n          })// fetch end\n        } else {\n          editorsList.innerHTML = ''\n          }\n      // } // else end\n    })// search editor addeventlistener end\n\n  let addEditor = document.getElementById('editorsList')\n\n      addEditor.addEventListener('click', (e) => {\n        e.preventDefault()\n        // if(selectedEditor.length == 0) {\n        //   selectedEditor.push(e.srcElement.attributes.href.textContent)\n\n        editorDiv.setAttribute('id', 'ddd')\n        let editorID = document.createElement('input')\n        editorID.type = 'hidden'\n        editorID.name = 'writtenBy'\n        editorID.setAttribute('value', e.srcElement.attributes.href.textContent)\n\n        // set hidden input for keeping editor's name after page refresh\n        let inputEditorName = document.createElement('input')\n          inputEditorName.type = 'hidden'\n          inputEditorName.name = 'editorHiddenName'\n          inputEditorName.setAttribute('value', e.target.innerText)\n\n        //set hidden input for keeping editor's picture\n        let inputEditorImage = document.createElement('input')\n          inputEditorImage.type = 'hidden'\n          inputEditorImage.name = 'editorHiddenImage'\n          inputEditorImage.setAttribute('value', e.srcElement.getAttribute('data-editorImage'))\n\n        let editorh4 = document.createElement('h4')\n          editorh4.className = 'ml-4 mt-3 float-right'\n        let editorImage = document.createElement('img')\n          editorImage.className = 'rounded ml-2 mt-3 __editorImage'\n          editorImage.setAttribute('src','/images/editors/'+e.srcElement.getAttribute('data-editorImage'))\n\n        let editorDisplayName = document.createTextNode(e.target.innerText)\n        editorh4.appendChild(editorDisplayName)\n        editorDiv.appendChild(editorImage)\n        editorDiv.appendChild(editorh4)\n        editorDiv.appendChild(inputEditorName)\n        editorDiv.appendChild(inputEditorImage)\n        editorDiv.appendChild(editorID)\n        editorParentDiv.appendChild(editorDiv)\n\n        searchEditor.value=''\n        editorsList.innerHTML = ''\n        let removeEditor = document.querySelector('.__editorsList')\n            removeEditor.addEventListener('click', (e) => {\n              while(removeEditor.firstChild) {\n                removeEditor.firstChild.remove()\n              }\n            })\n      })// item.addeventListener end\n\n      // helper.removeElement(editorDiv,selectedEditor)\n\n      let removeEditor = document.querySelector('.__editorsList')\n      if(removeEditor) {\n          removeEditor.addEventListener('click', (e) => {\n            while(removeEditor.firstChild) {\n              removeEditor.firstChild.remove()\n            }\n            removeEditor.remove()\n          })\n      }\n\n  }// location match end addAnalysis\n\n  if (location.match('addPrice')) {\n\n    let newPriceList =  new PriceList.createPrice()\n\n  }\n\n//delete analysis\n  if(location.match('allAnalysis')) {\n    helper.deleteDocument('.deleteDocument','analiza ce biti obrisana?','/allAnalysis/','/allAnalysis','doslo je do greske')\n    }\n\n//delete lab\n  if(location.match('allLabs')) {\n    helper.deleteDocument('.deleteDocument','laboratorija ce biti obrisana','/allLabs/','/allLabs','doslo je do greske')\n  }\n\n//delete group\n  if(location.match('allGroupsList')) {\n    helper.deleteDocument('.deleteDocument', 'grupa ce biti obrisana', '/allGroupsList/', '/allGroupsList', 'doslo je do greske prilikom brisanja grupe')\n  }\n//delete disease\n  if(location.match('allDiseases')) {\n    helper.deleteDocument('.deleteDocument', 'oboljenje ce biti obrisano', '/allDiseases/', '/allDiseases', 'doslo je do greske prilikom brisanja oboljenja')\n  }\n//delete editor\n  if(location.match('allEditors')) {\n    helper.deleteDocument('.deleteDocument', 'urednik ce biti obrisan', '/allEditors/', '/allEditors', 'doslo je do greske prilikom brisanja urednika')\n  }\n//delete reference\n  if(location.match('allReferences')) {\n    helper.deleteDocument('.deleteDocument', 'referenca ce biti obrisana', '/allReferences/', '/allReferences', 'doslo je do greske prilikom uklanjanja reference')\n  }\n//delete faq\n  if(location.match('allFaqs')) {\n    helper.deleteDocument('.deleteDocument', 'Pitanje ce biti obrisano', '/allFaqs/', '/allFaqs', 'doslo je do greske prilikom uklanjanja pitanja')\n  }\n//delete priceList\n  if(location.match('allPrices')) {\n    helper.deleteDocument('.deleteDocument', 'Cenovnik ce biti obrisan', '/allPrices/', '/allPrices', 'doslo je do greske prilikom brisanja cenovnika')\n  }\n\n}// window onload end\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}
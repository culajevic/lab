{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/scripts/class.js","webpack:///./src/scripts/functions.js","webpack:///./src/scripts/price.js","webpack:///./src/scripts/script.js","webpack:///./src/scss/style.scss?9d9f"],"names":["module","exports","grandParent","parentElement","parentClass","titleElement","titleClass","titleText","inputClass","inputPlaceholder","inputName","inputPattern","newParentElement","document","createElement","className","elementTitle","elementTitleText","createTextNode","appendChild","removeField","removeFieldIcon","newInputField","placeholder","name","pattern","querySelector","focus","elementName","elementToBeRemoved","querySelectorAll","forEach","item","addEventListener","e","parentNode","remove","removeElement","element1","element2","preventDefault","itemToRemove","target","innerText","index","indexOf","splice","children","length","deleteDocument","selector","message","url","redirect","error","confirm","id","getAttribute","fetch","method","then","response","json","data","console","log","window","location","href","alert","renderAnalysisResult","analysis","pricesMin","pricesMax","resultDiv","itemsArray","analysisPositionArr","findIndex","i","analysisName","tr","tdName","analysisLink","setAttribute","slug","previewIcon","preview","alt","altName","y","tdGroupName","groupName","groupId","hospital","hospitalIcon","availableHC","minmaxPrice","priceSpan","priceRange","cenovnik","cena","addAnalysisBtnTd","addAnalysisBtn","addAnalysisBtnText","disabled","_id","iconPath","displayBasket","classList","basketTitle","cardHeader","getElementById","analysisAdded","groupImage","logo","split","urlSlug","join","removeSpan","removeImg","selectedAnalysis","items","insertBefore","childNodes","removeAnalysis","checkout","analysisBasket","contains","selectedAnalysisBasket","indexOfAnalysisName","localStorageItems","JSON","parse","localStorage","getItem","nameIndex","stringify","removedValue","setItem","innerHTML","add","enableButton","textContent","addAnalysis","tagName","push","sort","a","b","searchLabAnalysis","searchString","filter","checked","filterValue","value","keyCode","setTimeout","searchLab","searchStr","loaderWrapper","banner","now","Date","day","getDay","date","getDate","month","getMonth","year","getFullYear","today","passIds","result","style","opacity","labTemplate","flag","labName","address","placeId","place","municipality","phone","workingHours","monday","opens","closes","tuesday","wednesday","thursday","friday","saturday","sunday","currentDay","currentDayNum","radnoVreme","todayIs","privateInsurance","accredited","labDetailsBtn","open24h","openTime","closingTime","todayOpenTime","todayClosingTime","nowTimeStamp","getTime","closingSoon","closingIn","Math","ceil","createPrice","queryResultUl","liItem","link","labSelected","srcElement","attributes","searchAnalysis","getAnalyisisNameDiv","analysisParentDiv","priceParent","analysisFound","hiddenId","type","analysisRow","analysisNewDiv","analysisPrice","deletePrice","price","deleteButton","buttonText","require","NewElement","PriceList","helper","$","ready","tooltip","placement","delay","show","hide","boundary","tooltipClass","on","imageSrc","attr","hover","find","toggleClass","scroll","height","scrollTop","addClass","removeClass","animate","pathname","urlArr","checkUrl","group","match","checkCMSAdd","checkCMSAll","onload","mainSearch","analysisRadio","activeBtns","showPriceBtn","mapArea","scrollTo","top","behavior","municipalityValue","options","selectedIndex","markers","lat","lab","coordinates","lng","iconImage","total","workinghours","zoom","disableDefaultUI","zoomControl","mapTypeControl","scaleControl","streetViewControl","rotateControl","fullscreenControl","fullscreenControlOptions","position","google","maps","ControlPosition","RIGHT_BOTTOM","styles","map","Map","setCenter","addMarker","marker","Marker","icon","labelOrigin","x","scaledSize","Size","label","text","toString","fontWeight","fontSize","color","infoWindow","InfoWindow","maxWidth","content","addListener","placeMarker","open","event","close","urlParams","URLSearchParams","search","myValue","get","myFilter","history","replaceState","innerSearch","radioFilter","minPriceArr","maxPriceArr","mapFrame","searchstring","status","mainSearchinner","analysisRadioinner","labLocationUrl","innerPageSearch","resultTable","numOfAnalysis","prices","totalPriceSpan","resultSection","totalPrice","parseInt","alreadySelectedArray","alreadySelected","idAnalysis","results","abbr","groupID","additionalResult","removeAnalysisLabPage","toBeDeleted","deleteAnalysis","previousElementSibling","numAnalysis","scrollspy","offset","analysisBtn","disableAddBtn","mondayOpens","mondayCloses","workingWeek","deleteWH","searchPlaces","city","minicipality","postalCode","placeName","resultList","addNewPhone","newPhone","addElement","summernote","styleTags","title","tag","toolbar","addNewAbbr","addNewAlt","addNewConnectedAnalysis","addNewConnectedDiseases","newAbbr","newAlt","resultGroup","groupNamesList","itemGroup","connectedAnalysis","relatedAnalysisParent","parentUl","analysisSelected","liitems","analysisNameList","includes","connectedAnalysisID","connAnalysisName","connectedAnalysisLi","connectedAnalysisInnerText","connectedDiseases","getDiseasesDiv","diseasesParent","diseaseParentUl","diseaseSelected","diseaseItems","diseaseName","addDisease","diseaseID","diseaseLi","diseaseInnerText","searchReference","referenceList","referenceParentDiv","referenceUl","selectedReferences","referenceItems","referenceName","referenceTitle","addReference","referenceID","removeButton","referenceLi","searchEditor","editorsList","editorParentDiv","editorDiv","selectedEditor","editors","picture","editorName","firstName","lastName","addEditor","editorID","inputEditorName","inputEditorImage","editorh4","editorImage","editorDisplayName","removeEditor","firstChild","newPriceList"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/scripts/script.js\");\n","/*\nadd description for this class\n*/\nmodule.exports = class NewElement {\n  constructor(grandParent, parentElement, parentClass=['form-group'],titleElement,titleClass=['form-text'], titleText, inputClass, inputPlaceholder,inputName, inputPattern) {\n    this.grandParent = grandParent,\n    this.parentElement = parentElement,\n    this.parentClass= parentClass,\n    this.titleElement = titleElement,\n    this.titleClass= titleClass,\n    this.titleText = titleText,\n    this.inputClass = inputClass,\n    this.inputPlaceholder = inputPlaceholder,\n    this.inputName = inputName,\n    this.inputPattern = inputPattern\n  }\n  addElement() {\n    // add parent div\n    let newParentElement = document.createElement(this.parentElement)\n    newParentElement.className += this.parentClass\n\n    // create title and append it to parent div\n    let elementTitle = document.createElement(this.titleElement)\n    elementTitle.className += this.titleClass\n    let elementTitleText = document.createTextNode(this.titleText)\n    elementTitle.appendChild(elementTitleText)\n\n    // create remove icon\n    let removeField = document.createElement('span')\n    removeField.className += 'float-right removeField'\n    let removeFieldIcon = document.createTextNode('-')\n    removeField.appendChild(removeFieldIcon)\n\n    // adding remove icon to title element\n    newParentElement.appendChild(removeField)\n    // append title tag to parent div\n    newParentElement.appendChild(elementTitle)\n\n    // create input field and add class, placeholder and name values\n    let newInputField = document.createElement('input')\n    newInputField.className += this.inputClass\n    newInputField.placeholder = this.inputPlaceholder\n    newInputField.name= this.inputName\n    newInputField.pattern = this.inputPattern\n\n    // add input field to parent\n    newParentElement.appendChild(newInputField)\n\n    // append everything to grand parent\n    let grandParent = document.querySelector(this.grandParent)\n    grandParent.appendChild(newParentElement)\n    // grandParent.insertBefore(newParentElement, grandParent.childNodes[this.insertBefore])\n\n    // set focus to last created element\n    newInputField.focus()\n  }\n  removeElement(elementName) {\n    let elementToBeRemoved = document.querySelectorAll(elementName)\n    elementToBeRemoved.forEach((item) => {\n      item.addEventListener('click', (e) => {\n        item.parentNode.remove()\n      })\n    })\n  }\n}\n","exports.removeElement = (element1,element2) => {\n  element1.addEventListener('click', (e) => {\n    e.preventDefault()\n    let itemToRemove = e.target.innerText\n    let index = element2.indexOf(itemToRemove)\n    element2.splice(index,1)\n    if(element1.children.length === 1) {\n      e.target.remove()\n      element1.remove()\n    } else {\n      e.target.remove() }\n  })\n}\n\nexports.deleteDocument = (selector,message,url,redirect,error) => {\n  let deleteDocument = document.querySelectorAll(selector)\n    deleteDocument.forEach((item) => {\n      item.addEventListener('click', (e) => {\n        if(confirm(message))  {\n          let id = e.target.getAttribute('data-id')\n          url += id\n          fetch (url, {\n            method: 'delete'\n          }).then((response) => {\n            response.json()\n            .then((data) => {\n              console.log(data)\n            })\n            window.location.href=redirect\n          }).catch((e) => {\n            alert(error)\n          })\n        } else {\n          window.location.href=redirect\n        }\n      })\n    })\n}\n\nexports.renderAnalysisResult = (analysis, pricesMin ,pricesMax, resultDiv, itemsArray) => {\n\n  //check if analysis is already in localstorage\n  let analysisPositionArr = itemsArray.findIndex((item) => {\n\n    return item.name === analysis[i].analysisName\n  })\n\n  let tr = document.createElement('tr')\n  //td analysis name and preview icon\n  let tdName = document.createElement('td')\n  let analysisName = document.createTextNode(analysis[i].analysisName)\n  let analysisLink = document.createElement('a')\n      analysisLink.setAttribute('href', 'analysis/'+analysis[i].slug)\n      analysisLink.className = 'nolink'\n      analysisLink.appendChild(analysisName)\n\n  let previewIcon = document.createElement('img')\n    previewIcon.setAttribute('src', '/images/detail.svg')\n    previewIcon.setAttribute('title', analysis[i].preview)\n    previewIcon.className = \"tooltipImg mr-2\"\n    previewIcon.setAttribute('data-toggle', 'tooltip')\n  tdName.appendChild(previewIcon)\n  tdName.appendChild(analysisLink)\n  tr.appendChild(tdName)\n\n  // displab analysis abbreviation\n  // let abbr = document.createElement('td')\n  // let abbrName\n  //\n  // for(y=0; y<analysis[i].abbr.length; y++) {\n  //   if(y != (analysis[i].abbr.length)-1 ) {\n  //    abbrName = document.createTextNode(analysis[i].abbr[y]+', ')\n  //   } else {\n  //    abbrName = document.createTextNode(analysis[i].abbr[y])\n  //   }\n  //   abbr.appendChild(abbrName)\n  //   tr.appendChild(abbr)\n  // }\n\n  //display alternative name for analysis\n  let alt = document.createElement('td')\n  let altName\n\n  for(y=0; y<analysis[i].alt.length; y++) {\n    if(y != (analysis[i].alt.length)-1 ) {\n     altName = document.createTextNode(analysis[i].alt[y]+', ')\n    } else {\n     altName = document.createTextNode(analysis[i].alt[y])\n    }\n    alt.appendChild(altName)\n    tr.appendChild(alt)\n  }\n\n  //display analysis groupName\n  let tdGroupName = document.createElement('td')\n    let groupName = document.createTextNode(analysis[i].groupId.name)\n    tdGroupName.appendChild(groupName)\n    tr.appendChild(tdGroupName)\n\n  //display hospital icon if analysis is available\n  //ako nije dostupna stavi hospital-alt-off.svg\n\n  let hospital = document.createElement('td')\n  let hospitalIcon = document.createElement('img')\n    if(analysis[i].availableHC) {\n      hospitalIcon.setAttribute('src', '/images/hospital-alt.svg')\n      hospitalIcon.setAttribute('data-toggle', 'tooltip')\n      hospitalIcon.setAttribute('title', 'Analizu je moguće uraditi u domu zdravlja o trošku zdravstvenog osiguranja.')\n    } else {\n      hospitalIcon.setAttribute('src', '/images/hospital-alt_off.svg')\n      hospitalIcon.setAttribute('data-toggle', 'tooltip')\n      hospitalIcon.setAttribute('title', 'Analizu nije moguće uraditi u domu zdravlja o trošku zdravstvenog osiguranja.')\n    }\n  hospital.appendChild(hospitalIcon)\n  tr.appendChild(hospital)\n\n  //display min and max price\n  let minmaxPrice = document.createElement('td')\n  let priceSpan = document.createElement('span')\n    priceSpan.className = 'font-weight-bold'\n\n      let priceRange = document.createTextNode(`${pricesMin[i][0].cenovnik[0].cena} - ${pricesMax[i][0].cenovnik[0].cena}`)\n      priceSpan.appendChild(priceRange)\n      minmaxPrice.appendChild(priceSpan)\n      tr.appendChild(minmaxPrice)\n\n  //create btn for adding analysis to basket\n  let addAnalysisBtnTd = document.createElement('td')\n  let addAnalysisBtn = document.createElement('button')\n  let addAnalysisBtnText\n\n  if(analysisPositionArr === -1) {\n    addAnalysisBtn.className = 'btn btn-outline-success float-right btn-block text-uppercase addAnalysis'\n    addAnalysisBtnText = document.createTextNode('dodaj')\n  } else {\n    addAnalysisBtnText = document.createTextNode(\"\\u2714\")\n    addAnalysisBtn.className = 'btn btn-outline-success float-right btn-block text-uppercase deleteAnalysis'\n    addAnalysisBtn.disabled = true\n  }\n    addAnalysisBtn.setAttribute('data-analysisId', analysis[i]._id)\n    addAnalysisBtn.setAttribute('data-analysisName', analysis[i].analysisName)\n    addAnalysisBtn.setAttribute('data-groupImg', analysis[i].groupId.iconPath)\n\n  addAnalysisBtn.appendChild(addAnalysisBtnText)\n  addAnalysisBtnTd.appendChild(addAnalysisBtn)\n  tr.appendChild(addAnalysisBtnTd)\n  resultDiv.appendChild(tr)\n}\n\nexports.displayBasket = (itemsArray) => {\n  // display 'shopping' basket\n  document.querySelector('.card').classList.remove('d-none')\n\n  //put number of selected analyisis next to basket title\n  let basketTitle = document.createTextNode(` (${itemsArray.length})`)\n  let cardHeader = document.getElementById('numOfAnalysis')\n    cardHeader.appendChild( basketTitle )\n\n// const data = JSON.parse(localStorage.getItem('items'))\n  itemsArray.forEach(analysis => {\n    //create li element for each analysis selected\n    let analysisAdded = document.createElement('li')\n      analysisAdded.className='list-group-item list-group-item-action'\n    //creating group image\n    let groupImage = document.createElement('img')\n      groupImage.classList = 'labGroupIconSelectedAnalysis'\n      groupImage.setAttribute('src', '/images/'+analysis.logo)\n    //creating text with analysis name\n    let analysisName = document.createTextNode(analysis.name)\n    let analysisLink = document.createElement('a')\n    let slug = analysis.name.split(' ')\n    let urlSlug = slug.join('-')\n      analysisLink.setAttribute('href', '/results/analysis/'+urlSlug)\n      analysisLink.className = 'nolink analysisBasketLiItem'\n      // analysisLink.setAttribute('target', '_blank')\n    analysisLink.appendChild(analysisName)\n    //creating span element for remove icon\n    let removeSpan = document.createElement('span')\n      removeSpan.className = 'float-right remove'\n    let removeImg = document.createElement('img')\n      removeImg.setAttribute('src','/images/closeBtn.svg')\n      removeImg.className = 'remove-analysis-from-basket'\n      removeSpan.appendChild(removeImg)\n      analysisAdded.appendChild(groupImage)\n      analysisAdded.appendChild(analysisLink)\n      analysisAdded.appendChild(removeSpan)\n      let selectedAnalysis = document.getElementById('selectedAnalysis')\n      //get position of analysis in array\n      let analysisPositionArr = itemsArray.findIndex((items) => {\n        return analysis.name === items.name\n      })\n      selectedAnalysis.insertBefore(analysisAdded, selectedAnalysis.childNodes[analysisPositionArr])\n  })\n}\n\nexports.removeAnalysis = (itemsArray, checkout) => {\n  //remove analysis from local storage\n  let analysisBasket = document.getElementById('selectedAnalysis')\n    analysisBasket.addEventListener('click', (e) => {\n      if(e.target.classList.contains('remove-analysis-from-basket')) {\n\n        let selectedAnalysisBasket = e.target.parentNode.parentNode\n        let indexOfAnalysisName = selectedAnalysisBasket.innerText\n        let localStorageItems = JSON.parse(localStorage.getItem('items'))\n        let nameIndex = localStorageItems.findIndex((item) => {\n            return item.name === indexOfAnalysisName\n          })\n        localStorageItems.splice(nameIndex,1)\n        items = JSON.stringify(localStorageItems)\n        selectedAnalysisBasket.remove()\n        //remove element from itemsarray\n        let removedValue = itemsArray.splice(nameIndex,1)\n        localStorage.setItem('items', items)\n\n        let basketTitle = document.createTextNode(` (${itemsArray.length}) `)\n        let cardHeader = document.getElementById('numOfAnalysis')\n        cardHeader.innerHTML=''\n        cardHeader.appendChild(basketTitle)\n\n        //hide basket if all analysis are removed\n        if(itemsArray.length == 0) {\n          document.querySelector('.card').classList.add('d-none')\n          checkout.classList.add('d-none')\n        }\n\n        checkout.innerText = itemsArray.length\n\n        //enable button for the analysis removed\n        // let enableButton = document.querySelectorAll('#resultTable tr>td>button')\n        let enableButton = document.querySelectorAll('.deleteAnalysis')\n          enableButton.forEach((item) => {\n            if(item.getAttribute('data-analysisName') == removedValue[0].name) {\n              item.disabled = false\n              item.textContent = 'dodaj'\n              item.classList.remove('deleteAnalysis')\n              item.classList.add('addAnalysis')\n            }\n          })//enable button end\n      }// remove analysis from basket\n    })\n\n  }\n\nexports.addAnalysis = (itemsArray,resultDiv, checkout) => {\n  //adding analysis to sidebar shopping cart\n  resultDiv.addEventListener('click', (e) => {\n    if(e.target.tagName === 'BUTTON' && e.target.classList.contains('addAnalysis') && itemsArray.length<30) {\n\n      itemsArray.push({\n        'name':e.target.getAttribute('data-analysisName'),\n        'id':e.target.getAttribute('data-analysisid'),\n        'logo':e.target.getAttribute('data-groupimg')\n       })\n\n       //add number of analysis to navigation\n       checkout.classList.remove('d-none')\n       checkout.innerHTML = itemsArray.length\n\n       let basketTitle = document.createTextNode(` (${itemsArray.length}) `)\n       let cardHeader = document.getElementById('numOfAnalysis')\n       cardHeader.innerHTML=''\n       cardHeader.appendChild(basketTitle)\n\n      // sorting array\n      itemsArray.sort((a,b) => {\n        if (a.name > b.name) {\n          return 1\n        } else {\n          return -1\n        }\n      })\n\n      localStorage.setItem('items', JSON.stringify(itemsArray))\n\n      let analysisAdded = document.createElement('li')\n        analysisAdded.className='list-group-item list-group-item-action'\n      //creating group image\n      let groupImage = document.createElement('img')\n        groupImage.classList = 'labGroupIconSelectedAnalysis'\n        groupImage.setAttribute('src', '/images/'+e.target.getAttribute('data-groupImg'))\n      //creating text with analysis name\n      let analysisName = document.createTextNode(e.target.getAttribute('data-analysisName'))\n      let analysisLink = document.createElement('a')\n      let slug = e.target.getAttribute('data-analysisName').split(' ')\n      let urlSlug = slug.join('-')\n        analysisLink.setAttribute('href', '/results/analysis/'+urlSlug)\n        analysisLink.className = 'nolink analysisBasketLiItem'\n        // analysisLink.setAttribute('target', '_blank')\n      analysisLink.appendChild(analysisName)\n      //creating span element for remove icon\n      let removeSpan = document.createElement('span')\n        removeSpan.className = 'float-right remove'\n      let removeImg = document.createElement('img')\n        removeImg.setAttribute('src','/images/closeBtn.svg')\n        removeImg.className = 'remove-analysis-from-basket'\n        removeSpan.appendChild(removeImg)\n        analysisAdded.appendChild(groupImage)\n        analysisAdded.appendChild(analysisLink)\n        analysisAdded.appendChild(removeSpan)\n\n        let analysisPositionArr = itemsArray.findIndex((item) => {\n          return item.name === e.target.getAttribute('data-analysisName')\n        })\n\n        // if analysis is added disable add button\n        if(analysisPositionArr !== -1) {\n          e.target.innerHTML = '&#10004;'\n          e.target.className = 'btn btn-outline-success float-right btn-block text-uppercase deleteAnalysis'\n          // e.target.className = 'btn btn-outline-success ml-5 mt-auto text-uppercase deleteAnalysis'\n          e.target.disabled = true\n        }\n\n        //insert analysis to basket\n        let selectedAnalysis = document.getElementById('selectedAnalysis')\n        selectedAnalysis.insertBefore(analysisAdded, selectedAnalysis.childNodes[analysisPositionArr])\n\n        //display basket when first analyis is added to basket\n        document.querySelector('.card').classList.remove('d-none')\n    } else if (itemsArray.length>30){\n      console.log('ne mozete dodati vise od 30 analiza u korpu')\n    }\n  })// resultdiv end\n}\n\nexports.searchLabAnalysis = (searchString, filter) => {\n\n  // let filter = 'analiza'\n  // let filterValue\n  searchString.focus()\n\n    filter.forEach((item) => {\n      if(item.checked) {\n        filterValue = item.value\n        console.log('checked ' + filterValue)\n      }\n    })\n\n  // set focus on searchanalysis field when right arrow is pressed\n  document.addEventListener('keydown', (e) => {\n      if(e.keyCode === 39) {\n        searchString.value = ''\n        searchString.focus()\n      }\n    })\n\n  //check the filter value on INDEX PAGE\n      filter.forEach((item) => {\n        item.addEventListener('click', (e) => {\n          filterValue = e.target.value\n        })\n      })\n\n  /* by default filter is set to analiza, after 500ms\n    user is redirected to results page */\n  searchString.addEventListener('input', (e) => {\n    console.log('trazim funkcija')\n    if(searchString.value.length>=2) {\n      setTimeout(function() {\n      let searchString = e.target.value\n      window.location.href = '/results/?name='+searchString+'&filter='+filterValue\n      },500)\n    }\n  })\n}\n\nexports.searchLab = (searchStr, loaderWrapper, resultDiv) => {\n  let banner = document.querySelector('.banner')\n  let analysisBasket = document.querySelector('.odabraneAnalize')\n\n  let now = new Date()\n  let day = now.getDay()\n  let date = now.getDate()\n  let month = now.getMonth()\n  let year = now.getFullYear()\n  let today = (month + 1) + \"/\" + date + \"/\" + year\n  // let danas\n  const passIds = []\n\n    fetch('/lab/'+searchStr).then((data) => {\n\n      data.json().then((result) => {\n\n        loaderWrapper.style.opacity = 0\n\n        let labTemplate = document.createElement('div')\n          labTemplate.className = 'col-12 d-flex flex-row flex-wrap'\n\n        for(i=0; i<result.length; i++) {\n          let flag = true\n          resultDiv.innerHTML = ''\n          labTemplate.innerHTML += `\n          <div class=\"lab-card\">\n            <div>\n               <img src=\"\" class=\"labInfoWindowOsiguranje privateInssuranceIcon${i}\" title=\"laboratorija sarađuje sa privatnim osiguranjem\">\n               <img src=\"\" class=\"labInfoWindowVerified accreditedIcon${i}\" title=\"laboratorija je akreditovana\">\n               <span class=\"labInfoWindowTitle\">${result[i].labName}</span>\n           </div>\n             <div class=\"labInfoWindow\">\n                 <img src=\"/images/lablogo/${result[i].logo}\" class=\"labLogoInfoWindow\">\n                 <p class=\"labInfoWindowAdresa\">${result[i].address}</p>\n                 <p class=\"labInfoWindowGrad\">${result[i].placeId.place} / ${result[i].placeId.municipality}</p>\n                 <p class=\"labInfoWindowTelefoni\"> ${result[i].phone.join(', ')}</p>\n             </div>\n             <div class=\"labInfoFooter\">\n                 <img src=\"/images/radnoVreme_black.svg\" class=\"labInfoWindowWorkingHoursIcon\">\n                 <div class=\"radnoVreme\">Radno vreme</div>\n                 <div id='otvoreno' class='otvoreno${i} status'></div>\n                 <div class=\"labInfoRadnoVremeDetalji\">\n                   <p class=\"daysInWeek monday${i} text-center\">P<span>${result[i].workingHours.monday.opens} - ${result[i].workingHours.monday.closes}</span></p>\n                   <p class=\"daysInWeek tuesday${i} text-center\">U<span>${result[i].workingHours.tuesday.opens} - ${result[i].workingHours.tuesday.closes}</span></p>\n                   <p class=\"daysInWeek wednesday${i} text-center\">S<span>${result[i].workingHours.wednesday.opens} - ${result[i].workingHours.wednesday.closes}</span></p>\n                   <p class=\"daysInWeek thursday${i} text-center\">Č<span>${result[i].workingHours.thursday.opens} - ${result[i].workingHours.thursday.closes}</span></p>\n                   <p class=\"daysInWeek friday${i} text-center\">P<span>${result[i].workingHours.friday.opens} - ${result[i].workingHours.friday.closes}</span></p>\n                   <p class=\"daysInWeek saturday${i} text-center\">S<span>${result[i].workingHours.saturday.opens} - ${result[i].workingHours.saturday.closes}</span></p>\n                   <p class=\"daysInWeek sunday${i} text-center\">N<span>${result[i].workingHours.sunday.opens} - ${result[i].workingHours.sunday.closes}</span></p>\n                 </div>\n              </div>\n              <button type=\"button\" class=\"btn btn-block btnLabDetails buttonId mt-2\" data-labName=\"laboratorija/${result[i].slug}\">saznaj više</button>\n           </div>`\n\n           resultDiv.innerHTML = `\n           <section id=\"labDetails\">\n             <div class=\"container\">\n               <div class=\"row labContainer\">\n               </div>\n             </div>\n           </section>`\n\n           //append labcard to page\n           document.querySelector('.labContainer').appendChild(labTemplate)\n\n\n\n        let currentDay\n        let currentDayNum\n        switch (day) {\n          case 0:\n            currentDay = 'sunday'\n            currentDayNum = 0\n            break\n          case 1:\n            currentDay = 'monday'\n            currentDayNum = 1\n            break\n          case 2:\n            currentDay = 'tuesday'\n            currentDayNum = 2\n            break\n          case 3:\n            currentDay = 'wednesday'\n            currentDayNum = 3\n            break\n          case 4:\n            currentDay = 'thursday'\n            currentDayNum = 4\n            break\n          case 5:\n            currentDay = 'friday'\n            currentDayNum = 5\n            break\n          case 6:\n            currentDay = 'saturday'\n            currentDayNum = 6\n            break\n          default:\n            console.log('dan nije ok')\n        }\n\n        let radnoVreme = document.querySelector('.otvoreno'+i)\n        let todayIs = document.querySelector('.'+currentDay+i)\n        let privateInsurance = document.querySelector('.privateInssuranceIcon'+i)\n        let accredited = document.querySelector('.accreditedIcon'+i)\n        let labDetailsBtn = document.querySelectorAll('.buttonId')\n         labDetailsBtn.forEach(item => {\n           item.addEventListener('click', e => {\n             itemsArray = localStorage.getItem('items') ? JSON.parse(localStorage.getItem('items')) : []\n               itemsArray.forEach(item => {\n               passIds.push(item.id)\n               });\n             window.location = `/${e.target.getAttribute('data-labName')}/${passIds}`\n           })\n         })\n\n\n        if(result[i].private) {\n          privateInsurance.setAttribute('src', '/images/osiguranje.svg')\n        } else {\n          privateInsurance.remove()\n        }\n\n        if(result[i].accredited) {\n          accredited.setAttribute('src', '/images/verified.svg')\n        } else {\n          accredited.remove()\n        }\n\n        if(result[i].open24h) {\n          radnoVreme.classList.add('open')\n          radnoVreme.innerText = 'otvoreno 24h'\n          todayIs.classList.add('active')\n        } else if(day === currentDayNum) {\n\n          let openTime = result[i].workingHours[currentDay].opens\n          let closingTime = result[i].workingHours[currentDay].closes\n          let todayOpenTime = new Date(today +' '+ openTime +':00')\n          let todayClosingTime = new Date(today +' '+ closingTime +':00')\n          let nowTimeStamp = now.getTime()\n          let closingSoon = todayClosingTime - nowTimeStamp\n          let closingIn = (Math.ceil(closingSoon/1000/60))\n\n          if (closingIn < 60 && closingIn > 0) {\n            radnoVreme.classList.add('closedSoon')\n            radnoVreme.innerText = `zatvara se za ${closingIn} min.`\n            todayIs.classList.add('active')\n          }\n\n            else if(nowTimeStamp > todayOpenTime.getTime() &&\n                todayClosingTime.getTime() > nowTimeStamp) {\n                radnoVreme.classList.add('open')\n                radnoVreme.innerText = 'otvoreno'\n                todayIs.classList.add('active')\n            }\n            else {\n                radnoVreme.classList.add('closed')\n                radnoVreme.innerText = 'zatvoreno'\n                todayIs.classList.add('activeClosed')\n            }\n          } else {\n            console.log('lab nije odredio radno vreme')\n          }\n      }//for loop end\n\n      })//data json end\n    })//fetch end\n}\n","exports.createPrice = () => {\n\n  let searchLab = document.getElementById('searchLabName')\n  let queryResultUl = document.getElementById('labFound')\n  let labName = document.getElementById('labName')\n\n  searchLab.addEventListener('input', (e) => {\n    if(searchLab.value.length>2) {\n      fetch('/lab/'+e.target.value).then((data) => {\n        data.json().then((result) => {\n          for(i=0; i<result.length; i++) {\n            let liItem = document.createElement('li')\n            liItem.className +=\"list-group-item\"\n            let link = document.createElement('a')\n            link.href=result[i]._id\n            liItem.appendChild(link)\n            let labName = document.createTextNode(result[i].labName)\n            link.appendChild(labName)\n            queryResultUl.appendChild(liItem)\n          }// for end\n        })// data.json end\n      })// fetch end\n    } // if end\n    else {\n      console.log('please enter at lease 2 chars')\n      queryResultUl.innerHTML = ''\n    }\n  })\n\n  let labSelected = document.getElementById('labFound')\n    labSelected.addEventListener('click', (e) => {\n      e.preventDefault()\n      searchLab.value = e.srcElement.attributes.href.textContent\n      labName.value=e.target.innerText\n      queryResultUl.innerHTML = ''\n    })\n\n  //search for analysis\n\n  let searchAnalysis = document.getElementById('searchAnalysis')\n  let getAnalyisisNameDiv = document.getElementById('analysisFound')\n  let analysisParentDiv = document.getElementById('analysisDiv')\n  let priceParent = document.getElementById('priceList')\n\n  // set focus on searchanalysis field when up arrow is pressed\n  document.addEventListener('keydown', (e) => {\n    if(e.keyCode === 38) {\n      searchAnalysis.focus()\n    }\n  })\n\n  searchAnalysis.addEventListener('input', (e) => {\n    if (searchAnalysis.value.length > 2) {\n    fetch('/analysis/prices/'+e.target.value).then((data) => {\n      data.json().then((result) => {\n        let analysis = result.analysisName\n        getAnalyisisNameDiv.innerHTML = ''\n        for(i=0; i<analysis.length; i++) {\n          let liItem = document.createElement('li')\n          liItem.className +=\"list-group-item\"\n          let link = document.createElement('a')\n          link.href=analysis[i]._id\n          liItem.appendChild(link)\n          let analysisName = document.createTextNode(analysis[i].analysisName)\n          link.appendChild(analysisName)\n          getAnalyisisNameDiv.appendChild(liItem)\n        } // for end\n      })// datajson end\n    })// fetch end\n  } else {\n      getAnalyisisNameDiv.innerHTML = ''\n    }\n  })// searchAnalysis event listener end\n\n  // creating input fields\n  let analysisFound = document.getElementById('analysisFound')\n\n    analysisFound.addEventListener('click', (e) => {\n      e.preventDefault()\n\n      let hiddenId = document.createElement('input')\n      hiddenId.type = 'hidden'\n      hiddenId.name = 'cenovnik[analiza][]'\n      hiddenId.setAttribute('value', e.srcElement.attributes.href.textContent)\n\n      let analysisRow = document.createElement('div')\n        analysisRow.className = 'form-row'\n\n      let analysisNewDiv = document.createElement('div')\n        analysisNewDiv.className = 'form-group mt-2 col-6'\n\n      let analysisName = document.createElement('input')\n        analysisName.type = 'text'\n        analysisName.className = 'form-control'\n        analysisName.name='cenovnik[imeanalize][]'\n        analysisName.setAttribute('value', e.target.innerText)\n        analysisName.setAttribute('readonly', true)\n\n      let analysisPrice = document.createElement('div')\n        analysisPrice.className = 'form-group mt-2 col-5'\n\n      let deletePrice = document.createElement('div')\n        deletePrice.className = 'form-group mt-2 col-1'\n\n      let price = document.createElement('input')\n        price.type = 'text'\n        price.setAttribute('placeholder', 'upisi cenu')\n        price.name = 'cenovnik[cena][]'\n        price.className = 'form-control'\n\n      let deleteButton = document.createElement('button')\n        deleteButton.className='btn btn-danger float-right deletePrice'\n        deleteButton.type='button'\n        deleteButton.name='button'\n          let buttonText = document.createTextNode('delete')\n          deleteButton.appendChild(buttonText)\n        deletePrice.appendChild(deleteButton)\n\n      analysisNewDiv.appendChild(analysisName)\n      analysisPrice.appendChild(price)\n      analysisNewDiv.appendChild(hiddenId)\n\n      analysisRow.appendChild(analysisNewDiv)\n      analysisRow.appendChild(analysisPrice)\n      analysisRow.appendChild(deletePrice)\n\n      // analysisParentDiv.appendChild(analysisRow)\n      priceParent.appendChild(analysisRow)\n\n      price.focus()\n      searchAnalysis.value=''\n      getAnalyisisNameDiv.innerHTML = ''\n\n    })// analysisfound end\n\n    // delete price from pricelist\n      let deletePrice = document.getElementById('priceList')\n      // console.log(deletePrice)\n        deletePrice.addEventListener('click', (e) => {\n          // console.log(deletePrice)\n          if(e.target.classList.contains('deletePrice')) {\n            e.preventDefault()\n            e.target.parentNode.parentNode.remove()\n          }\n        })\n}\n","require('../scss/style.scss')\n\n// let summernote = require('./summernote-ext-addclass')\nlet NewElement = require('./class')\nlet PriceList = require('./price')\nlet helper = require('./functions')\n\n//tooltip initialization\n$(document).ready(function(){\n  $('body').tooltip({\n    selector:'[data-toggle=\"tooltip\"]',\n    placement:\"top\",\n    delay: {show: 100, hide: 100},\n    boundary: 'window',\n    tooltipClass: \"tooltip\"\n  })\n  $('#resultTable, #resultTableAnalysis').on('mouseenter','tr>td>img.tooltipImg', function(){\n    var imageSrc = $(this).attr('src');\n    // if (imageSrc == '/images/detail.svg') {\n      $(this).attr('src','/images/detail_mv.svg');\n    }).on('mouseleave','tr>td>img.tooltipImg', function(){\n      $(this).attr('src', '/images/detail.svg');\n    })\n});\n\n// changing analysis number color on hover\n$('.click-more').hover(function(){\n  $(this).find(\"span\").toggleClass(\"broj-analiza-hover\");\n});\n\n// sticky navigation for index page\n$(window).scroll(function(){\n  var height = $(window).scrollTop();\n    if(height > 460) {\n      $(\"#header > nav\").addClass('fixed-top-background fixed-top');\n    }\n    else {\n      $(\"#header > nav\").removeClass('fixed-top-background fixed-top');\n    }\n});\n\n// sticky navigation for side menu\n$(window).scroll(function(){\n  var height = $(window).scrollTop();\n    if(height > 120) {\n      $(\".odabraneAnalize\").addClass('fixed-right')\n    }\n    else {\n      $(\".odabraneAnalize\").removeClass('fixed-right')\n    }\n})\n\n// scrol to top button\n$('.backTotop').on('click',function(){\n  $('html, body').animate({scrollTop:0}, 1200);\n    // return false;\n});\n\n//animate numbers on google map header\n\n\nlet location = window.location.pathname\n\n\n// GLOBAL VARIABLES\n//set filter by default to analiza\nlet filter = 'analiza'\nlet checkout = document.querySelector('.checkout')\nlet urlArr = location.split('/')\n\n/* check if local storage already exists,\nif not create an empty array */\nlet itemsArray = localStorage.getItem('items') ? JSON.parse(localStorage.getItem('items')) : []\n\n//MUST CHECK THIS!!!!!!!\n/*if local storage has already some items display selected items\nin sidebar basket on any page which is not index */\nconst checkUrl = /result.*/\nconst group = /group/\nif(itemsArray.length>0 && (location.match(group) || location.match(checkUrl))) {\n  helper.displayBasket(itemsArray)\n}\n\n//MUST CHECK THIS!!!!!!!\n//get reference to checkout element which displays number of selected analysis in navigation\nconst checkCMSAdd = /add.*/\nconst checkCMSAll = /all.*/\nif (itemsArray.length > 0 && !location.match(checkCMSAdd) && !location.match(checkCMSAll)) {\n  checkout.classList.remove('d-none')\n  checkout.textContent = itemsArray.length\n}\n\n\nwindow.onload = () => {\n\n/* INDEX PAGE ***************/\n\nif(location === '/') {\n\n  //get seachstring\n  let mainSearch = document.getElementById('searchAnalysis')\n  //ger reference to filter\n  let analysisRadio = document.querySelectorAll('input[name=searchFilter]')\n  //search for analysis or lab\n  helper.searchLabAnalysis(mainSearch,analysisRadio)\n\n} // INDEX page end\n\n/* NAJBOLJA CENA **************/\n\n// if(document.getElementById('najboljacena') != null) {\n//   console.log('ovde sad')\n// }\n\n/* RESULTS PAGE ***************/\n\n\n// if (urlArr[1] === 'results' && urlArr[2] == '') {\nif (document.getElementById('results')!=null) {\n\n  const activeBtns = document.querySelectorAll('.addAnalysis')\n  activeBtns.forEach(analysis => {\n    let analysisPositionArr = itemsArray.findIndex((item) => {\n        return analysis.getAttribute(\"data-analysisid\") === item.id\n    })\n    if(analysisPositionArr !== -1) {\n      analysis.innerHTML = '&#10004;'\n      analysis.disabled = true\n      analysis.classList.remove('addAnalysis')\n      analysis.classList.add('deleteAnalysis')\n    }\n  })\n\n//show prices\n  let resultDiv = document.getElementById('resultTable')\n  const municipality = document.getElementById('municipality')\n  const showPriceBtn = document.querySelector('.showPrice')\n  let mapArea = document.getElementById('mapPrices')\n  showPriceBtn.addEventListener('click', e => {\n    e.preventDefault()\n    window.scrollTo({\n    top:0,\n    behavior:'smooth'})\n    mapArea.classList.remove('d-none')\n    let passIds = []\n    resultDiv.innerHTML = ''\n    itemsArray = localStorage.getItem('items') ? JSON.parse(localStorage.getItem('items')) : []\n      itemsArray.forEach(item => {\n      passIds.push(item.id)\n      });\n\n    let municipalityValue = municipality.options[municipality.selectedIndex].value\n    let markers = []\n\n    fetch('/cenovnik/'+municipalityValue+'/'+passIds).then(data => {\n      data.json().then(result => {\n        loaderWrapper.style.opacity = 0\n        let labTemplate = document.createElement('div')\n          labTemplate.className = 'col-12 d-flex flex-row flex-wrap'\n\n        for(let i=0; i<result.length; i++) {\n// console.log(result[i].lab[0].workingHours)\n\n        markers.push(\n          {\n            lat:result[i].lab[0].location.coordinates[1], lng:result[i].lab[0].location.coordinates[0],\n            iconImage:'/images/pinopen.svg',\n            total:result[i].total,\n            name:result[i].lab[0].labName,\n            address:result[i].lab[0].address,\n            phone:result[i].lab[0].phone,\n            workinghours:result[i].lab[0].workingHours,\n            slug:result[i].lab[0].slug\n          }\n        )\n          resultDiv.innerHTML = ''\n          labTemplate.innerHTML += `\n\n          <div class=\"lab-card\">\n            <div>\n            ${(result[i].lab[0].private)? '<img src=/images/osiguranje.svg class=\"labInfoWindowOsiguranje privateInssuranceIcon${i}\" title=\"laboratorija sarađuje sa privatnim osiguranjem\">' : ''}\n            ${(result[i].lab[0].accredited)? '<img src=/images/verified.svg class=\"labInfoWindowVerified accreditedIcon${i}\" title=\"llaboratorija je akreditovana\">' : ''}\n            <span class=\"labInfoWindowTitle\">${result[i].lab[0].labName}</span>\n           </div>\n             <div class=\"labInfoWindow\">\n                 <img src=\"/images/lablogo/${result[i].lab[0].logo}\" class=\"labLogoInfoWindow\">\n\n                 <p class=\"labInfoWindowAdresa\">${result[i].lab[0].address}</p>\n                 <p class=\"labInfoWindowGrad\"></p>\n                 <p class=\"labInfoWindowTelefoni\"> ${result[i].lab[0].phone} </p>\n             </div>\n             <div class=\"labInfoFooter\">\n                 <img src=\"/images/radnoVreme_black.svg\" class=\"labInfoWindowWorkingHoursIcon\">\n                 <div class=\"radnoVreme\">Radno vreme</div>\n                 <div id='otvoreno' class='otvoreno status'></div>\n                 <div class=\"labInfoRadnoVremeDetalji\">\n                   <p class=\"daysInWeek monday${result[i]} text-center\">P<span>${result[i].lab[0].workingHours.monday.opens} - ${result[i].lab[0].workingHours.monday.closes}</span></p>\n                   <p class=\"daysInWeek tuesday${result[i]} text-center\">U<span>${result[i].lab[0].workingHours.tuesday.opens} - ${result[i].lab[0].workingHours.tuesday.closes}</span></p>\n                   <p class=\"daysInWeek wednesday${result[i]} text-center\">S<span>${result[i].lab[0].workingHours.wednesday.opens} - ${result[i].lab[0].workingHours.wednesday.closes}</span></p>\n                   <p class=\"daysInWeek thursday${result[i]} text-center\">Č<span>${result[i].lab[0].workingHours.thursday.opens} - ${result[i].lab[0].workingHours.thursday.closes}</span></p>\n                   <p class=\"daysInWeek friday${result[i]} text-center\">P<span></span>${result[i].lab[0].workingHours.friday.opens} - ${result[i].lab[0].workingHours.friday.closes}</p>\n                   <p class=\"daysInWeek saturday${result[i]} text-center\">S<span></span>${result[i].lab[0].workingHours.saturday.opens} - ${result[i].lab[0].workingHours.saturday.closes}</p>\n                   <p class=\"daysInWeek sunday${result[i]} text-center\">N<span></span>${result[i].lab[0].workingHours.sunday.opens} - ${result[i].lab[0].workingHours.sunday.closes}</p>\n                 </div>\n              </div>\n              <a class=\"btn btn-block btnLabDetails buttonId mt-2\" href=\"laboratorija/${result[i].lab[0].slug}/${passIds}\">saznaj više</a>\n           </div>`\n\n           resultDiv.innerHTML = `\n           <section id=\"labDetails\">\n             <div class=\"container\">\n               <div class=\"row labContainer\">\n               </div>\n             </div>\n           </section>`\n\n           //append labcard to page\n           document.querySelector('.labContainer').appendChild(labTemplate)\n        }\n        // map options\n        let options = {\n          zoom:16,\n          // center: {lat:44.808048, lng:20.462796},\n          disableDefaultUI: true,\n          zoomControl: false,\n          mapTypeControl: false,\n          scaleControl: false,\n          streetViewControl: true,\n          rotateControl: false,\n          fullscreenControl: true,\n          fullscreenControlOptions:{\n            position:google.maps.ControlPosition.RIGHT_BOTTOM\n          },\n          styles: [\n              {\n                \"featureType\": \"administrative.country\",\n                \"elementType\": \"geometry.fill\",\n                \"stylers\": [\n                  {\n                    \"color\": \"#fbd2d9\"\n                  },\n                  {\n                    \"visibility\": \"on\"\n                  }\n                ]\n              },\n              {\n                \"featureType\": \"administrative.country\",\n                \"elementType\": \"geometry.stroke\",\n                \"stylers\": [\n                  {\n                    \"color\": \"#9896a9\"\n                  },\n                  {\n                    \"weight\": 2\n                  }\n                ]\n              },\n              {\n                \"featureType\": \"administrative.land_parcel\",\n                \"elementType\": \"geometry.fill\",\n                \"stylers\": [\n                  {\n                    \"color\": \"#9896a9\"\n                  }\n                ]\n              },\n              {\n                \"featureType\": \"administrative.land_parcel\",\n                \"elementType\": \"labels\",\n                \"stylers\": [\n                  {\n                    \"visibility\": \"off\"\n                  }\n                ]\n              },\n              {\n                \"featureType\": \"administrative.locality\",\n                \"elementType\": \"geometry.fill\",\n                \"stylers\": [\n                  {\n                    \"visibility\": \"on\"\n                  }\n                ]\n              },\n              {\n                \"featureType\": \"administrative.neighborhood\",\n                \"elementType\": \"geometry.fill\",\n                \"stylers\": [\n                  {\n                    \"visibility\": \"on\"\n                  }\n                ]\n              },\n              {\n                \"featureType\": \"administrative.neighborhood\",\n                \"elementType\": \"labels\",\n                \"stylers\": [\n                  {\n                    \"color\": \"#aaa9b1\"\n                  },\n                  {\n                    \"visibility\": \"simplified\"\n                  }\n                ]\n              },\n              {\n                \"featureType\": \"poi\",\n                \"elementType\": \"labels.text\",\n                \"stylers\": [\n                  {\n                    \"visibility\": \"off\"\n                  }\n                ]\n              },\n              {\n                \"featureType\": \"poi.business\",\n                \"stylers\": [\n                  {\n                    \"visibility\": \"off\"\n                  }\n                ]\n              },\n              {\n                \"featureType\": \"poi.park\",\n                \"elementType\": \"geometry.fill\",\n                \"stylers\": [\n                  {\n                    \"color\": \"#aadc55\"\n                  }\n                ]\n              },\n              {\n                \"featureType\": \"poi.park\",\n                \"elementType\": \"labels.text\",\n                \"stylers\": [\n                  {\n                    \"visibility\": \"off\"\n                  }\n                ]\n              },\n              {\n                \"featureType\": \"road\",\n                \"elementType\": \"geometry.fill\",\n                \"stylers\": [\n                  {\n                    \"color\": \"#ecebed\"\n                  },\n                  {\n                    \"visibility\": \"on\"\n                  }\n                ]\n              },\n              {\n                \"featureType\": \"road\",\n                \"elementType\": \"labels.text\",\n                \"stylers\": [\n                  {\n                    \"color\": \"#d8d6dc\"\n                  }\n                ]\n              },\n              {\n                \"featureType\": \"road.arterial\",\n                \"elementType\": \"geometry.fill\",\n                \"stylers\": [\n                  {\n                    \"color\": \"#fefefe\"\n                  }\n                ]\n              },\n              {\n                \"featureType\": \"road.arterial\",\n                \"elementType\": \"labels.text\",\n                \"stylers\": [\n                  {\n                    \"color\": \"#9a9a9a\"\n                  },\n                  {\n                    \"visibility\": \"simplified\"\n                  }\n                ]\n              },\n              {\n                \"featureType\": \"road.highway\",\n                \"elementType\": \"labels\",\n                \"stylers\": [\n                  {\n                    \"visibility\": \"off\"\n                  }\n                ]\n              },\n              {\n                \"featureType\": \"road.local\",\n                \"stylers\": [\n                  {\n                    \"visibility\": \"off\"\n                  }\n                ]\n              },\n              {\n                \"featureType\": \"road.local\",\n                \"elementType\": \"geometry.fill\",\n                \"stylers\": [\n                  {\n                    \"color\": \"#eaecec\"\n                  },\n                  {\n                    \"visibility\": \"on\"\n                  }\n                ]\n              },\n              {\n                \"featureType\": \"road.local\",\n                \"elementType\": \"labels\",\n                \"stylers\": [\n                  {\n                    \"visibility\": \"off\"\n                  }\n                ]\n              },\n              {\n                \"featureType\": \"road.local\",\n                \"elementType\": \"labels.text.fill\",\n                \"stylers\": [\n                  {\n                    \"color\": \"#9ba4a4\"\n                  },\n                  {\n                    \"visibility\": \"on\"\n                  }\n                ]\n              },\n              {\n                \"featureType\": \"transit\",\n                \"elementType\": \"geometry.fill\",\n                \"stylers\": [\n                  {\n                    \"visibility\": \"off\"\n                  }\n                ]\n              },\n              {\n                \"featureType\": \"transit.station\",\n                \"elementType\": \"geometry.fill\",\n                \"stylers\": [\n                  {\n                    \"visibility\": \"on\"\n                  }\n                ]\n              },\n              {\n                \"featureType\": \"transit.station.bus\",\n                \"stylers\": [\n                  {\n                    \"visibility\": \"simplified\"\n                  }\n                ]\n              },\n              {\n                \"featureType\": \"transit.station.bus\",\n                \"elementType\": \"geometry.fill\",\n                \"stylers\": [\n                  {\n                    \"color\": \"#ff00ff\"\n                  },\n                  {\n                    \"visibility\": \"simplified\"\n                  }\n                ]\n              },\n              {\n                \"featureType\": \"water\",\n                \"elementType\": \"geometry.fill\",\n                \"stylers\": [\n                  {\n                    \"color\": \"#1d88e5\"\n                  },\n                  {\n                    \"lightness\": 15\n                  }\n                ]\n              }\n            ]\n        }\n        // new map\n        let map = new google.maps.Map(document.getElementById('mapPrices'), options)\n            map.setCenter({lat:result[0].lab[0].location.coordinates[1], lng:result[0].lab[0].location.coordinates[0]});\n\n        for(i=0; i<markers.length; i++) {\n        addMarker(markers[i].lat,\n                  markers[i].lng,\n                  markers[i].total,\n                  markers[i].name,\n                  markers[i].address,\n                  markers[i].phone,\n                  markers[i].workinghours,\n                  markers[i].slug)\n        }\n\n      // console.log(markers)\n        function addMarker(lat, lng, total, name, address, phone, workinghours,slug) {\n          let marker = new google.maps.Marker({\n            position:{lat:lat, lng:lng},\n            icon:{\n              url:'/images/pinprice.svg',\n              labelOrigin: {x: 32, y: 32},\n              scaledSize: new google.maps.Size(60, 60)\n            },\n            label:{\n              text:total.toString(),\n              fontWeight: 'bold',\n              fontSize: '12px',\n              color:'white'\n            },\n            map:map\n            })\n\n            let infoWindow = new google.maps.InfoWindow({\n              maxWidth:600,\n              content:`<p class=\"labInfoWindowTitle mb-0 pb-0\"><a href=\"/laboratorija/${slug}\">${name}</a></p>\n                      <p class=\"\">${address}</p>\n                    <p class=\"labInfoWindowTelefoni\">${phone} </p>\n                    <table class=\"table table-sm workingHoursLabDetails mt-2\">\n                      <thead>\n                        <tr>\n                          <th class=\"text-center px-0 whInside\">P</th>\n                          <th class=\"text-center px-0 whInside\">U</th>\n                          <th class=\"text-center px-0 whInside\">S</th>\n                          <th class=\"text-center px-0 whInside\">Č</th>\n                          <th class=\"text-center px-0 whInside\">P</th>\n                          <th class=\"text-center px-0 whInside\">S</th>\n                          <th class=\"text-center px-0 whInside\">N</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <tr>\n                          <td class=\"whInside px-0 text-center\">${workinghours.monday.opens} - ${workinghours.monday.closes}</td>\n                          <td class=\"whInside px-0 text-center\">${workinghours.tuesday.opens} - ${workinghours.tuesday.closes}</td>\n                          <td class=\"whInside px-0 text-center radnoVreme open\">${workinghours.wednesday.opens} - ${workinghours.wednesday.closes}</td>\n                          <td class=\"whInside px-0 text-center\">${workinghours.thursday.opens} - ${workinghours.thursday.closes}</td>\n                          <td class=\"whInside px-0 text-center\">${workinghours.friday.opens} - ${workinghours.friday.closes}</td>\n                          <td class=\" whInside px-0 text-center\">${workinghours.saturday.opens} - ${workinghours.saturday.closes}</td>\n                          <td class=\"whInside px-0 text-center\">${workinghours.sunday.opens} - ${workinghours.sunday.closes}</td>\n                        </tr>\n                      </tbody>\n                    </table>\n                    `\n\n            });\n\n            marker.addListener('click', function(){\n              var placeMarker = infoWindow.open(map, marker);\n            });\n\n            google.maps.event.addListener(map, 'click', function() {\n              infoWindow.close();\n            });\n        }\n      })//data json end\n    })//fetch end\n  })\n\n  //create wrapper for live search icon\n  let loaderWrapper = document.querySelector('.loader-wrapper')\n  //get seachstring\n  // let mainSearchinner = document.getElementById('searchResultPage')\n  //ger reference to filter\n  // let analysisRadioinner = document.querySelectorAll('input[name=searchFilter]')\n  //search for analysis or lab\n  //proveriti da li je ovo ispod neophodno\n  // helper.searchLabAnalysis(mainSearchinner,analysisRadioinner)\n\n  const urlParams = new URLSearchParams(window.location.search)\n  let myValue = urlParams.get('name')\n  let myFilter = urlParams.get('filter')\n  history.replaceState(null,null,`/`)\n\n  // creating variable for search field and assigning value from search string\n  let innerSearch = document.getElementById('searchResultPage')\n    //keeps search string when page is changed\n    innerSearch.value = myValue\n    innerSearch.focus()\n\n  //defining new variable which will be used in queries\n  let searchStr = myValue\n  // display checked filter\n  let radioFilter = document.querySelectorAll('input[name=searchFilter]')\n    radioFilter.forEach((item) => {\n      if(item.value == myFilter) {\n        item.checked=true\n        console.log('checked ' + myFilter)\n      }\n    })\n\n    // if user is searching from home page take result div\n    // let resultDiv = document.getElementById('resultTable')\n\n    // if filter value is changed on result searchResultPage\n    // taking filter value\n    let analysisRadio = document.querySelectorAll('input[name=searchFilter]')\n        analysisRadio.forEach((item) => {\n          item.addEventListener('click', (e) => {\n            myFilter = e.target.value\n            console.log('kada se promeni ' + myFilter)\n            innerSearch.value=''\n            innerSearch.focus()\n          })\n        })\n\n\n    if(myFilter === 'analiza') {\n      console.log('pretraga analize sa glavne stranice')\n      fetch('/analysis/prices/'+searchStr).then((data) => {\n        // loaderWrapper.style.opacity = 1\n        data.json().then((result) => {\n          resultDiv.innerHTML = ''\n          let analysis = result.analysisName\n          let pricesMin = result.minPriceArr\n          let pricesMax = result.maxPriceArr\n          for(i=0; i<analysis.length; i++) {\n            //creating table with result\n            helper.renderAnalysisResult(analysis, pricesMin, pricesMax, resultDiv, itemsArray)\n          }// for end\n          //when result is found remove loading icon\n          loaderWrapper.style.opacity = 0\n        })// data json end\n      })//fetch end\n    }// if my filter==analiza\n    else if (myFilter == 'laboratorija'){\n      console.log('pretraga lab sa index strance')\n      helper.searchLab(searchStr, loaderWrapper, resultDiv)\n      }// else end\n\n    // if search string is changed on result page\n    // let loaderWrapper = document.querySelector('.loader-wrapper')\n    innerSearch.addEventListener('input', (e) => {\n      // console.log('searching'+ filter)\n    let mapFrame = document.getElementById('mapPrices')\n    mapFrame.classList.add('d-none')\n        let searchstring = e.target.value\n        loaderWrapper.style.opacity = 1\n        if(myFilter == 'analiza' && searchstring.length>=2) {\n          fetch('/analysis/prices/'+searchstring).then((data) => {\n            data.json().then((result) => {\n              let analysis = result.analysisName\n              let pricesMin = result.minPriceArr\n              let pricesMax = result.maxPriceArr\n              resultDiv.innerHTML = ''\n                for(i=0; i<analysis.length; i++) {\n                  //creating table with results\n                  //when typing fast parent array becomes undefined hence error\n                  if(typeof(pricesMin[i])!==\"undefined\") {\n                   helper.renderAnalysisResult(analysis, pricesMin, pricesMax, resultDiv, itemsArray)\n                  }\n                }// for end\n                if(data.status == 200) {\n                  loaderWrapper.style.opacity = 0\n                }\n            })// data json end\n          })//fetch end\n        }\n        else if(searchstring.length>=2){\n            //searching for labs from result page\n            helper.searchLab(searchstring, loaderWrapper, resultDiv)\n          } else {\n            console.log('unesite vise od 2 karaktera da zapocnete pretragu')\n            resultDiv.innerHTML = 'Unesite nesto'\n            loaderWrapper.style.opacity = 0\n          }\n      })\n\n        helper.addAnalysis(itemsArray, resultDiv, checkout)\n        helper.removeAnalysis(itemsArray, checkout)\n\n\n}\n\n//group analysis page\nif(document.getElementById('resultsGroupDetails')!= null) {\n\n  const activeBtns = document.querySelectorAll('.addAnalysis')\n  activeBtns.forEach(analysis => {\n    let analysisPositionArr = itemsArray.findIndex((item) => {\n        return analysis.getAttribute(\"data-analysisid\") === item.id\n    })\n    if(analysisPositionArr !== -1) {\n      analysis.innerHTML = '&#10004;'\n      analysis.disabled = true\n      analysis.classList.remove('addAnalysis')\n      analysis.classList.add('deleteAnalysis')\n    }\n  })\n\n  let loaderWrapper = document.querySelector('.loader-wrapper')\n  loaderWrapper.style.opacity = 0\n  let resultDiv = document.getElementById('resultTable')\n  // get seachstring\n  let mainSearchinner = document.getElementById('searchResultPage')\n  // ger reference to filter\n  let analysisRadioinner = document.querySelectorAll('input[name=searchFilter]')\n  // search for analysis or lab\n  // proveriti da li je ovo ispod neophodno\n  helper.searchLabAnalysis(mainSearchinner,analysisRadioinner)\n  helper.addAnalysis(itemsArray, resultDiv, checkout)\n  helper.removeAnalysis(itemsArray, checkout)\n}\n\n// lab details PAGE\nif(urlArr[1] == 'laboratorija') {\n  let labLocationUrl = location.split('/')\n  let labName = labLocationUrl[2]\n  history.replaceState(null,null,`/laboratorija/${labLocationUrl[2]}`)\n  //take input values from search box and filter reference\n  let innerPageSearch = document.getElementById('searchResultPage')\n  let analysisRadio = document.querySelectorAll('input[name=searchFilter]')\n  // search for analysis or lab\n  // helper.searchLabAnalysis(innerPageSearch,analysisRadio)\n  let searchString = document.getElementById('searchResultPage')\n    searchString.focus()\n  let filter = document.querySelectorAll('input[name=searchFilter]')\n  let resultDiv = document.getElementById('resultTableAnalysis')\n  let resultTable = document.getElementById('resultTable')\n  let numOfAnalysis = document.querySelector('.numAnalysis')\n  let checkout = document.querySelector('.checkout')\n  let filterValue = 'analiza'\n\n\n      //check the filter value on INDEX PAGE\n          filter.forEach((item) => {\n            item.addEventListener('click', (e) => {\n              filterValue = e.target.value\n            })\n          })\n\n      /* by default filter is set to analiza, after 500ms\n        user is redirected to results page */\n\n  //show totalPrice\n  let prices = document.querySelectorAll('.price')\n  let totalPriceSpan = document.querySelector('.totalPrice')\n  let resultSection = document.getElementById('resultsLabDetails')\n  // let table = document.getElementById('resultTableAnalysis')\n  let itemsArray = JSON.parse(localStorage.getItem('items'))\n  let totalPrice = 0\n    prices.forEach(item =>  {\n      totalPrice += parseInt(item.getAttribute('data-price'))\n    })\n\n\n    searchString.addEventListener('input', (e) => {\n      if(searchString.value.length>=3 && filterValue == 'analiza' ) {\n        let searchString = e.target.value\n        // fetch('/analysis/prices/'+searchString)\n        fetch('/search/analysis/'+searchString+'/'+labName)\n          .then(data => data.json())\n          .then(result => {\n\n            resultDiv.innerHTML = ''\n            let icon = []\n            let alreadySelectedArray = []\n            for(i=0; i<result.length; i++) {\n\n              let alreadySelected = itemsArray.findIndex(item => {\n                return item.id == result[i].idAnalysis\n              })\n              alreadySelectedArray.push(alreadySelected)\n\n              let availableHC = result[i].availableHC\n              icon.push(...availableHC)\n\n              if(alreadySelectedArray[i] == -1) {\n                let results = `\n                  <tr>\n                    <td><img src=\"/images/detail.svg\" data-toggle=\"tooltip\" title=\"${result[i].preview}\" class=\"tooltipImg mr-2\">\n                    <a href=\"../results/analysis/${result[i].slug}\" class=\"nolink\">${result[i].name}</a></td>\n                    <td>${result[i].abbr}</td>\n                    <td>${result[i].alt}</td>\n                    <td><img src=${icon[i] ? '/images/hospital-alt.svg' : '/images/hospital-alt_off.svg'}></td>\n                    <td><span class=\"font-weight-bold price\">${result[i].cenovnik.cena}</span></td>\n                    <td><button class=\"btn btn-outline-success float-right btn-block text-uppercase addAnalysis\" data-analysisid=\"${result[i].idAnalysis}\"  data-analysisName=\"${result[i].name}\" data-price=${result[i].cenovnik.cena} data-abbr=\"${result[i].abbr}\" data-iconPath=\"${result[i].groupID[i].iconPath}\" data-alt=\"${result[i].alt}\" data-icon=\"${icon[i] ? '/images/hospital-alt.svg' : '/images/hospital-alt_off.svg'}\">dodaj</button></td>\n                  </tr>\n                `\n                resultDiv.innerHTML += results\n              }\n            }\n          })// data json end\n\n        }\n      else {\n        console.log('unesite vise od 2 karaktera')\n        resultDiv.innerHTML = ''\n      }\n    })\n\n\n\n    let addAnalysisBtn = document.getElementById('resultTableAnalysis')\n      addAnalysisBtn.addEventListener('click', e => {\n        if(e.target.tagName === 'BUTTON' && e.target.classList.contains('addAnalysis')) {\n          e.target.innerHTML = '&#10004;'\n          e.target.disabled = true\n          totalPrice  += parseInt(e.target.getAttribute('data-price'))\n          totalPriceSpan.innerText = `Ukupno: ${totalPrice} din.`\n          resultSection.classList.remove('d-none')\n          checkout.classList.remove('d-none')\n          itemsArray.push({\n            'name':e.target.getAttribute('data-analysisName'),\n            'id':e.target.getAttribute('data-analysisid'),\n            'logo':e.target.getAttribute('data-iconPath')\n           })\n           numOfAnalysis.innerHTML = `Broj odabranih analiza (${itemsArray.length})`\n           checkout.textContent = itemsArray.length\n           itemsArray.sort((a,b) => {\n             if (a.name > b.name) {\n               return 1\n             } else {\n               return -1\n             }\n           })\n           localStorage.setItem('items', JSON.stringify(itemsArray))\n           let additionalResult = `\n               <tr>\n                 <td><img src=\"/images/detail.svg\" data-toggle=\"tooltip\" title=\"\" class=\"tooltipImg mr-2\">\n                 <a href=\"../results/analysis/${e.target.getAttribute('data-analysisName')}\" class=\"nolink\">${e.target.getAttribute('data-analysisName')}</a></td>\n                 <td>${e.target.getAttribute('data-abbr')}</td>\n                 <td>${e.target.getAttribute('data-alt')}</td>\n                 <td><img src=\"${e.target.getAttribute('data-icon')}\"></td>\n                 <td><span class=\"font-weight-bold price\">${e.target.getAttribute('data-price')}</span></td>\n                 <td><button class=\"btn btn-outline-danger float-right btn-block text-uppercase removeAnalysis\" data-analysisid=\"${e.target.getAttribute('data-analysisid')}\" data-groupImg=\"\" data-analysisName=\"\" >X</button></td>\n               </tr>\n           `\n           resultTable.innerHTML += additionalResult\n        }\n      })\n\n    ///////////////////////////\n    if(itemsArray.length == 0) {\n      resultSection.classList.add('d-none')\n      checkout.classList.add('d-none')\n    } else {\n      totalPriceSpan.innerText = `Ukupno: ${totalPrice} din.`\n      let removeAnalysisLabPage = document.getElementById('resultTable')\n        removeAnalysisLabPage.addEventListener('click', e => {\n          if(e.target.classList.contains('removeAnalysis')) {\n            resultDiv.innerHTML = ''\n            searchString.value = ''\n            let toBeDeleted = e.target.getAttribute('data-analysisid')\n            let deleteAnalysis = e.target.parentNode.parentNode.remove()\n            prices = document.querySelector('.price')\n            //update total price by substracting from total\n            totalPrice -= parseInt(e.target.parentNode.previousElementSibling.innerText)\n            totalPriceSpan.innerText = `Ukupno: ${totalPrice} din.`\n            let nameIndex = itemsArray.findIndex((item) => {\n                return item.id === toBeDeleted\n              })\n            itemsArray.splice(nameIndex,1)\n            items = JSON.stringify(itemsArray)\n            localStorage.setItem('items', items)\n            let numAnalysis = document.querySelector('.numAnalysis')\n            numAnalysis.textContent = `Broj odabranih analiza (${itemsArray.length})`\n            checkout.textContent = itemsArray.length\n            if(itemsArray.length == 0) {\n              resultSection.classList.add('d-none')\n              checkout.classList.add('d-none')\n            }\n          }\n        })\n      }\n\n\n\n    }\n/* ANALYSIS DETAILS PAGE ***************/\nif(urlArr[1] == 'results' && urlArr[2] == 'analysis' && urlArr[3] !== ''  ) {\n//scrollspy initialization for side navigation\n\n  $('body').scrollspy({\n    target: '#sideMenu',\n    offset: 30\n  })\n\n  //take input values from search box and filter reference\n  let innerPageSearch = document.getElementById('searchResultPage')\n  let analysisRadio = document.querySelectorAll('input[name=searchFilter]')\n\n  // search for analysis or lab\n  helper.searchLabAnalysis(innerPageSearch,analysisRadio)\n\n  //add analysis from analysis details page\n  let analysisBtn = document.querySelector('.addAnalysis')\n  /* take the analysisname from button and check if this analysis\n    is already added to basket */\n  let disableAddBtn = itemsArray.findIndex(item => {\n    return analysisBtn.getAttribute('data-analysisName') == item.name\n  })\n\n  /* if analysis is already in basket disable button for\n    adding analysis to basket*/\n  if(disableAddBtn !== -1) {\n    analysisBtn.innerHTML = '&#10004;'\n    analysisBtn.disabled = true\n    analysisBtn.classList.remove('addAnalysis')\n    analysisBtn.classList.add('deleteAnalysis')\n  }\n  helper.addAnalysis(itemsArray, analysisBtn, checkout)\n  helper.removeAnalysis(itemsArray, checkout)\n}\n\n/*********************** BACKEND ************************/\nif (location.match('addLab')) {\n\n// populating working days Tuesday-Friday based on values from Monday\n  let mondayOpens = document.querySelector('#mondayOpens')\n  let mondayCloses = document.querySelector('#mondayCloses')\n\n  let workingWeek = document.querySelectorAll('.__working-hours')\n\n  mondayCloses.addEventListener('blur', (e) => {\n    document.getElementById('saturdayOpens').focus()\n    for(i=0; i<workingWeek.length-4; i++)\n      if(i%2 == 0) {\n        workingWeek[i].value=mondayOpens.value\n      } else {\n        workingWeek[i].value=mondayCloses.value\n      }\n    })\n\n    // delete all working hours on click / set 24h to false\n    let deleteWH = document.querySelector('#deleteWH')\n    deleteWH.addEventListener('click', (e) => {\n      e.preventDefault()\n      for(i=0; i<workingWeek.length; i++) {\n        workingWeek[i].value=''\n      }\n      open24h.checked=false\n    })\n\n    // set working hours for the whole week to 00-24h\n    const open24h = document.querySelector('#open24h')\n      open24h.addEventListener('change', (e) => {\n        e.preventDefault()\n        if(open24h.checked == true) {\n          for(i=0; i<workingWeek.length; i++)\n            if(i%2 == 0) {\n              workingWeek[i].value='00:00'\n            } else {\n              workingWeek[i].value='24:00'\n            }\n        } else {\n          for(i=0; i<workingWeek.length; i++) {\n            workingWeek[i].value=''\n          }\n        }\n      })\n\n  // search id for the place and populate other address related\n  // fields on lab form\n\n  let searchPlaces = document.getElementById('searchPlaces')\n  let resultDiv = document.getElementById('result')\n  let city = document.getElementById('city')\n  let minicipality = document.getElementById('municipality')\n  let postalCode = document.getElementById('postalCode')\n\n  searchPlaces.addEventListener('input', (e) => {\n  if(searchPlaces.value.length>=3) {\n      fetch('/places/'+e.target.value).then((data) => {\n          data.json().then((result) => {\n            resultDiv.innerHTML=''\n            for(i=0; i<result.length; i++) {\n              let liItem = document.createElement('li')\n              liItem.className +=\"list-group-item\"\n              let link = document.createElement('a')\n              link.href=result[i]._id\n              link.setAttribute('data-municipality',result[i].municipality)\n              link.setAttribute('data-postalCode',result[i].postalCode)\n              // link.className += \"\"\n              liItem.appendChild(link)\n              let placeName = document.createTextNode(result[i].place)\n              link.appendChild(placeName)\n              resultDiv.appendChild(liItem)\n            }// for end\n\n            let resultList = document.querySelectorAll('#result li')\n            resultList.forEach((item) => {\n              item.addEventListener('click', (e) => {\n                e.preventDefault()\n                searchPlaces.value = e.srcElement.attributes.href.textContent\n                city.value = e.target.innerText\n                municipality.value=e.srcElement.getAttribute('data-municipality')\n                postalCode.value=e.srcElement.getAttribute('data-postalCode')\n                resultDiv.innerHTML=''\n              })\n            })\n\n          })// data json end\n      })\n    } else {\n      console.log('enter at least 3 letters')\n      resultDiv.innerHTML=''\n      city.value=''\n      municipality.value=''\n      postalCode.value=''\n    }\n  })\n\n  // add new phone field icon\n    let addNewPhone = document.querySelector('#addNewPhone')\n    let newPhone =  new NewElement('#contactData','div','form-group col-sm-4','small','form-text text-muted','new phone', 'form-control', 'e.g. 066/3423234', 'phone[]', '^0\\\\d\\\\d\\\\/\\\\d+')\n      newPhone.removeElement('.removeField')\n\n    // add additional phone input fields\n    addNewPhone.addEventListener('click', (e) => {\n      newPhone.addElement()\n      newPhone.removeElement('.removeField')\n    })\n\n  } // window location = /addLab\n\n\n  if (location.match('addAnalysis')) {\nconsole.log('da')\n    $('#summernote').summernote({\n\n          styleTags: [\n          'p','br',\n          {title: 'orderList', tag: 'ul', className: 'textList', value: 'ul'},\n          {title: 'leadText', tag: 'p', className: 'lead text-center', value:'p'},\n          {title:'reset', tag:'p',className:'', value:'p'}\n\n        ],\n          height: 220,\n          toolbar: [\n              ['view', ['codeview']],\n              ['img', ['picture']],\n              ['style', ['style', 'addclass', 'clear']],\n              ['fontstyle', ['bold', 'italic', 'ul', 'ol', 'link', 'paragraph']],\n              ['fontstyleextra', ['strikethrough', 'underline', 'hr', 'color', 'superscript', 'subscript']],\n          ]\n        });\n\n    let addNewAbbr = document.querySelector('#addNewAbbr')\n    let addNewAlt = document.querySelector('#addNewAlt')\n    let addNewConnectedAnalysis = document.querySelector('#addNewRelatedAnalysis')\n    let addNewConnectedDiseases = document.querySelector('#addNewDiseases')\n\n    let newAbbr = new NewElement('#abbrAltContainer', 'div', 'form-group col-sm-3', 'small', 'form-text text-muted', 'new abbr', 'form-control', 'new abbr', 'abbr[]', '.+')\n      newAbbr.removeElement('.removeField')\n\n      addNewAbbr.addEventListener('click', (e) => {\n        newAbbr.addElement()\n        newAbbr.removeElement('.removeField')\n      })\n\n    let newAlt = new NewElement('#abbrAltContainer', 'div', 'form-group col-sm-3', 'small', 'form-text text-muted', 'alternative name', 'form-control', 'new alt', 'alt[]', '.+')\n      newAlt.removeElement('.removeField')\n\n      addNewAlt.addEventListener('click', (e) => {\n        newAlt.addElement()\n        newAlt.removeElement('.removeField')\n      })\n\n    let groupId = document.getElementById('groupId')\n    let resultGroup = document.getElementById('resultGroup')\n    let groupName = document.getElementById('groupName')\n\n    groupId.addEventListener('input', (e) => {\n      if(groupId.value.length >= 1) {\n        fetch('/groups/'+e.target.value).then((data) => {\n          data.json().then((result) => {\n            resultGroup.innerHTML=''\n            for(i=0; i<result.length; i++) {\n              let liItem = document.createElement('li')\n              liItem.className +=\"list-group-item\"\n              let link = document.createElement('a')\n              link.href=result[i]._id\n              liItem.appendChild(link)\n              let groupName = document.createTextNode(result[i].name)\n              link.appendChild(groupName)\n              resultGroup.appendChild(liItem)\n            } // for end\n\n            let groupNamesList = document.querySelectorAll('#resultGroup li')\n              groupNamesList.forEach((itemGroup) => {\n                itemGroup.addEventListener('click', (e) => {\n                  e.preventDefault()\n                  groupId.value = e.srcElement.attributes.href.textContent\n                  groupName.value = e.target.innerText\n                  resultGroup.innerHTML=''\n                })// click end\n              })// foreach end\n          })// data.json end\n        })// fetch end\n      } else {\n        console.log('enter at least 3 letters')\n          resultGroup.innerHTML=''\n          groupName.value =''\n        }\n    })// groupid addEventListener\n\n// searching for connected analyses\n\n    let connectedAnalysis = document.getElementById('connectedAnalysis')\n    let getAnalyisisNameDiv = document.getElementById('resultConnectedAnalysis')\n    let relatedAnalysisParent = document.getElementById('relatedAnalysis')\n    let parentUl = document.querySelector('.connAnalysisUl')\n    // let parentUl\n\n    if(typeof(parentUl) !== 'undefined' && parentUl !== null) {\n      parentUl = document.querySelector('.connAnalysisUl')\n      // parentUl.setAttribute('id', 'tess')\n    }  else {\n      parentUl = document.createElement('ul')\n        parentUl.className += 'list-inline my-3 connAnalysisUl'\n        parentUl.setAttribute('id', 'tess')\n    }\n\n    let analysisSelected = []\n\n    // push items to array when form is reloaded\n    let liitems = document.querySelectorAll('.connAnalysisUl li')\n      liitems.forEach((item) => {\n        analysisSelected.push(item.innerText)\n      })\n\n    connectedAnalysis.addEventListener('input', (e) => {\n      if (connectedAnalysis.value.length > 2) {\n      fetch('/analysis/'+e.target.value).then((data) => {\n        data.json().then((result) => {\n          // console.log(result)\n          getAnalyisisNameDiv.innerHTML = ''\n          for(i=0; i<result.length; i++) {\n            let liItem = document.createElement('li')\n            liItem.className +=\"list-group-item\"\n            let link = document.createElement('a')\n            link.href=result[i]._id\n            liItem.appendChild(link)\n            let analysisName = document.createTextNode(result[i].analysisName)\n            link.appendChild(analysisName)\n            getAnalyisisNameDiv.appendChild(liItem)\n          } // for end\n        })// datajson end\n      })// fetch end\n    } else {\n        getAnalyisisNameDiv.innerHTML = ''\n      }\n    })// connectedAnalysis event listener end\n\n    let analysisNameList = document.getElementById('resultConnectedAnalysis')\n\n        analysisNameList.addEventListener('click', (e) => {\n          e.preventDefault()\n\n          if(!analysisSelected.includes(e.target.innerText)) {\n            analysisSelected.push(e.target.innerText)\n\n            // creating hidden input tag and grab analysis id\n            let connectedAnalysisID = document.createElement('input')\n            connectedAnalysisID.type = 'hidden'\n            connectedAnalysisID.name = 'connectedTo[]'\n            connectedAnalysisID.setAttribute('value', e.srcElement.attributes.href.textContent)\n\n            let connAnalysisName = document.createElement('input')\n            connAnalysisName.type = 'hidden'\n            connAnalysisName.name = 'connectedToName[]'\n            connAnalysisName.setAttribute('value', e.target.innerText)\n\n            let connectedAnalysisLi = document.createElement('li')\n            connectedAnalysisLi.className += 'list-inline-item __connectedAnalysis'\n            let connectedAnalysisInnerText = document.createTextNode(e.target.innerText)\n\n            connectedAnalysisLi.appendChild(connectedAnalysisInnerText)\n            connectedAnalysisLi.appendChild(connectedAnalysisID)\n            connectedAnalysisLi.appendChild(connAnalysisName)\n            parentUl.appendChild(connectedAnalysisLi)\n            relatedAnalysisParent.appendChild(parentUl)\n\n            connectedAnalysis.value=''\n            connectedAnalysis.focus()\n            getAnalyisisNameDiv.innerHTML = ''\n\n          } else {\n            console.log('analiza vec dodata')\n            connectedAnalysis.value=''\n            connectedAnalysis.focus()\n            getAnalyisisNameDiv.innerHTML = '' }\n\n        })// addevent listener end\n\n      // remove connected analyses\n      helper.removeElement(parentUl, analysisSelected)\n\n    // search for connected Diseases and adding them to the DOM\n    let connectedDiseases = document.getElementById('connectedDiseases')\n    let getDiseasesDiv = document.getElementById('resultConnectedDiseases')\n    let diseasesParent = document.getElementById('diseases')\n    let diseaseParentUl = document.querySelector('.connDiseaseUl')\n\n    if(typeof(diseaseParentUl) !== 'undefined' && diseaseParentUl !== null) {\n      diseaseParentUl = document.querySelector('.connDiseaseUl')\n    } else {\n      diseaseParentUl = document.createElement('ul')\n        diseaseParentUl.className += 'list-inline my-3 connDiseaseUl'\n    }\n\n    let diseaseSelected = []\n\n    // push items to array when form is reloaded\n    let diseaseItems = document.querySelectorAll('.connDiseaseUl li')\n      diseaseItems.forEach((item) => {\n        diseaseSelected.push(item.innerText)\n      })\n\n    connectedDiseases.addEventListener('input', (e) => {\n      if(connectedDiseases.value.length > 2) {\n        fetch('/diseases/'+e.target.value).then((data) =>{\n          data.json().then((result) => {\n            getDiseasesDiv.innerHTML = ''\n            for(i=0; i<result.length; i++) {\n              let liItem = document.createElement('li')\n              liItem.className += \"list-group-item\"\n              let link = document.createElement('a')\n              link.href=result[i]._id\n              liItem.appendChild(link)\n              let diseaseName = document.createTextNode(result[i].name)\n              link.appendChild(diseaseName)\n              getDiseasesDiv.appendChild(liItem)\n            } // for end\n          })// data.json end\n        })// fetch end\n      }// if end\n        else {\n          getDiseasesDiv.innerHTML = ''\n        }\n  })// connectedDisease addEventListener\n\n    // adding diseases to the page\n      let addDisease = document.getElementById('resultConnectedDiseases')\n\n      addDisease.addEventListener('click', (e) => {\n          e.preventDefault()\n\n        if(!diseaseSelected.includes(e.target.innerText)) {\n            diseaseSelected.push(e.target.innerText)\n            // creating hidden input tag and grab analysis id\n            let diseaseID = document.createElement('input')\n            diseaseID.type = 'hidden'\n            diseaseID.name = 'diseasesId[]'\n            diseaseID.setAttribute('value', e.srcElement.attributes.href.textContent)\n\n            let diseaseName = document.createElement('input')\n            diseaseName.type = 'hidden'\n            diseaseName.name = 'diseaseName[]'\n            diseaseName.setAttribute('value', e.target.innerText)\n\n            let diseaseLi = document.createElement('li')\n            diseaseLi.className += 'list-inline-item __connectedAnalysis'\n            let diseaseInnerText = document.createTextNode(e.target.innerText)\n            diseaseLi.appendChild(diseaseInnerText)\n            diseaseLi.appendChild(diseaseID)\n            diseaseLi.appendChild(diseaseName)\n            diseaseParentUl.appendChild(diseaseLi)\n            diseasesParent.appendChild(diseaseParentUl)\n            // clear the input\n            connectedDiseases.value = ''\n            connectedDiseases.focus()\n            getDiseasesDiv.innerHTML = ''\n          }\n          else {\n            console.log('analiza vec dodata')\n            connectedDiseases.value = ''\n            connectedDiseases.focus()\n            getDiseasesDiv.innerHTML = ''\n          }\n      })// addDisease end addEventListener\n\n        // remove diseases\n        helper.removeElement(diseaseParentUl,diseaseSelected)\n\n\n    let searchReference = document.getElementById('searchReference')\n    let referenceList = document.getElementById('referenceList')\n    let referenceParentDiv = document.getElementById('references')\n    let referenceUl = document.querySelector('.referenceUl')\n\n    if(typeof(referenceUl) !== 'undefined' && referenceUl !== null) {\n      referenceUl = document.querySelector('.referenceUl')\n    } else {\n      referenceUl = document.createElement('ol')\n        referenceUl.className += 'referenceUl'\n    }\n\n    let selectedReferences = []\n    // push items to array when form is reloaded\n    let referenceItems = document.querySelectorAll('.referenceUl li')\n      referenceItems.forEach((item) => {\n        selectedReferences.push(item.innerText)\n      })\n\n    searchReference.addEventListener('input', (e) => {\n      if(searchReference.value.length > 2) {\n        fetch('/reference/'+e.target.value).then((data) => {\n          data.json().then((result) => {\n            referenceList.innerHTML = ''\n            for(i=0; i<result.length; i++) {\n              let liItem = document.createElement('li')\n              liItem.className += \"list-group-item \"\n              let link = document.createElement('a')\n              link.href=result[i]._id\n              liItem.appendChild(link)\n              let referenceName = document.createTextNode(result[i].referenceTitle)\n              link.appendChild(referenceName)\n              referenceList.appendChild(liItem)\n            }// for end\n          })// data json end\n        })// fetch end\n      } else {\n        referenceList.innerHTML = ''\n      }\n    })\n\n  let addReference = document.getElementById('referenceList')\n\n  addReference.addEventListener('click', (e) => {\n        e.preventDefault()\n\n    if(!selectedReferences.includes(e.target.innerText)) {\n        selectedReferences.push(e.target.innerText)\n        // creating hidden input tag and grab analysis id\n        let referenceID = document.createElement('input')\n        referenceID.type = 'hidden'\n        referenceID.name = 'references[]'\n        referenceID.setAttribute('value', e.srcElement.attributes.href.textContent)\n\n        let referenceName = document.createElement('input')\n        referenceName.type = 'hidden'\n        referenceName.name = 'referenceName[]'\n        referenceName.setAttribute('value', e.target.innerText)\n\n        // TODO: move remove functionality to functon\n        let removeButton = document.createElement('small')\n        removeButton.className += 'ml-2 float-right text-danger removeConnectedAnalysis'\n        // let removeText = document.createTextNode('x')\n        // removeButton.appendChild(removeText)\n        // remove section end\n        let referenceLi = document.createElement('li')\n        referenceLi.className = 'my-2'\n        // referenceP.className += 'd-block'\n        let referenceTitle = document.createTextNode(e.target.innerText)\n        referenceLi.appendChild(referenceTitle)\n        // referenceLi.appendChild(removeButton)\n        referenceLi.appendChild(referenceID)\n        referenceLi.appendChild(referenceName)\n        referenceUl.appendChild(referenceLi)\n        referenceParentDiv.appendChild(referenceUl)\n\n        searchReference.value=''\n        searchReference.focus()\n        referenceList.innerHTML = ''\n    } else {\n      searchReference.value=''\n      searchReference.focus()\n      referenceList.innerHTML = ''\n    }\n  })// addreference addEventListener\n\n  // remove reference after it is added to the page\n  helper.removeElement(referenceUl,selectedReferences)\n\n  let searchEditor = document.getElementById('searchEditors')\n  let editorsList = document.getElementById('editorsList')\n  let editorParentDiv = document.getElementById('editor')\n  let editorDiv\n\n  if(typeof(editorDiv) !== 'undefined' && editorDiv !== null) {\n    // select editor div after page refresh\n    editorDiv = document.querySelector('.__editorsList')\n  } else {\n    editorDiv = document.createElement('div')\n    editorDiv.className += '__editorsList'\n  }\n\n  let selectedEditor = []\n  //take editor id after page refresh\n  let editors = document.querySelector('.__editorsList input[name=writtenBy]')\n    if(editors) {\n      selectedEditor.push(editors.value)\n      // console.log(selectedEditor)\n    }\n\n    searchEditor.addEventListener('input', (e) => {\n      // if(document.querySelector('.__editorsList')) {\n      //   alert('vec je dodat urednik za ovu analizu, ukoliko hoces da ga izmenis prvo ukloni postojeceg')\n      // } else {\n        if(searchEditor.value.length > 2) {\n          fetch('/editors/'+e.target.value).then((data) => {\n            data.json().then((result) => {\n              editorsList.innerHTML = ''\n              for(i=0; i<result.length; i++) {\n                let liItem = document.createElement('li')\n                liItem.className += \"list-group-item \"\n                let link = document.createElement('a')\n                link.href=result[i]._id\n                link.setAttribute('data-editorImage',result[i].picture)\n                liItem.appendChild(link)\n                let editorName = document.createTextNode(`${result[i].firstName} ${result[i].lastName}`)\n                link.appendChild(editorName)\n                editorsList.appendChild(liItem)\n              }// for end\n            })// data json end\n          })// fetch end\n        } else {\n          editorsList.innerHTML = ''\n          }\n      // } // else end\n    })// search editor addeventlistener end\n\n  let addEditor = document.getElementById('editorsList')\n\n      addEditor.addEventListener('click', (e) => {\n        e.preventDefault()\n        // if(selectedEditor.length == 0) {\n        //   selectedEditor.push(e.srcElement.attributes.href.textContent)\n\n        editorDiv.setAttribute('id', 'ddd')\n        let editorID = document.createElement('input')\n        editorID.type = 'hidden'\n        editorID.name = 'writtenBy'\n        editorID.setAttribute('value', e.srcElement.attributes.href.textContent)\n\n        // set hidden input for keeping editor's name after page refresh\n        let inputEditorName = document.createElement('input')\n          inputEditorName.type = 'hidden'\n          inputEditorName.name = 'editorHiddenName'\n          inputEditorName.setAttribute('value', e.target.innerText)\n\n        //set hidden input for keeping editor's picture\n        let inputEditorImage = document.createElement('input')\n          inputEditorImage.type = 'hidden'\n          inputEditorImage.name = 'editorHiddenImage'\n          inputEditorImage.setAttribute('value', e.srcElement.getAttribute('data-editorImage'))\n\n        let editorh4 = document.createElement('h4')\n          editorh4.className = 'ml-4 mt-3 float-right'\n        let editorImage = document.createElement('img')\n          editorImage.className = 'rounded ml-2 mt-3 __editorImage'\n          editorImage.setAttribute('src','/images/editors/'+e.srcElement.getAttribute('data-editorImage'))\n\n        let editorDisplayName = document.createTextNode(e.target.innerText)\n        editorh4.appendChild(editorDisplayName)\n        editorDiv.appendChild(editorImage)\n        editorDiv.appendChild(editorh4)\n        editorDiv.appendChild(inputEditorName)\n        editorDiv.appendChild(inputEditorImage)\n        editorDiv.appendChild(editorID)\n        editorParentDiv.appendChild(editorDiv)\n\n        searchEditor.value=''\n        editorsList.innerHTML = ''\n        let removeEditor = document.querySelector('.__editorsList')\n            removeEditor.addEventListener('click', (e) => {\n              while(removeEditor.firstChild) {\n                removeEditor.firstChild.remove()\n              }\n            })\n      })// item.addeventListener end\n\n      // helper.removeElement(editorDiv,selectedEditor)\n\n      let removeEditor = document.querySelector('.__editorsList')\n      if(removeEditor) {\n          removeEditor.addEventListener('click', (e) => {\n            while(removeEditor.firstChild) {\n              removeEditor.firstChild.remove()\n            }\n            removeEditor.remove()\n          })\n      }\n\n  }// location match end addAnalysis\n\n  if (location.match('addPrice')) {\n    let newPriceList =  new PriceList.createPrice()\n  }\n\n//delete analysis\n  if(location.match('allAnalysis')) {\n    helper.deleteDocument('.deleteDocument','analiza ce biti obrisana?','/allAnalysis/','/allAnalysis','doslo je do greske')\n    }\n\n//delete lab\n  if(location.match('allLabs')) {\n    helper.deleteDocument('.deleteDocument','laboratorija ce biti obrisana','/allLabs/','/allLabs','doslo je do greske')\n  }\n\n//delete group\n  if(location.match('allGroupsList')) {\n    helper.deleteDocument('.deleteDocument', 'grupa ce biti obrisana', '/allGroupsList/', '/allGroupsList', 'doslo je do greske prilikom brisanja grupe')\n  }\n//delete disease\n  if(location.match('allDiseases')) {\n    helper.deleteDocument('.deleteDocument', 'oboljenje ce biti obrisano', '/allDiseases/', '/allDiseases', 'doslo je do greske prilikom brisanja oboljenja')\n  }\n//delete editor\n  if(location.match('allEditors')) {\n    helper.deleteDocument('.deleteDocument', 'urednik ce biti obrisan', '/allEditors/', '/allEditors', 'doslo je do greske prilikom brisanja urednika')\n  }\n//delete reference\n  if(location.match('allReferences')) {\n    helper.deleteDocument('.deleteDocument', 'referenca ce biti obrisana', '/allReferences/', '/allReferences', 'doslo je do greske prilikom uklanjanja reference')\n  }\n//delete faq\n  if(location.match('allFaqs')) {\n    helper.deleteDocument('.deleteDocument', 'Pitanje ce biti obrisano', '/allFaqs/', '/allFaqs', 'doslo je do greske prilikom uklanjanja pitanja')\n  }\n//delete priceList\n  if(location.match('allPrices')) {\n    helper.deleteDocument('.deleteDocument', 'Cenovnik ce biti obrisan', '/allPrices/', '/allPrices', 'doslo je do greske prilikom brisanja cenovnika')\n  }\n\n}// window onload end\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}